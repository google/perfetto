// Copyright (C) 2017 The Android Open Source Project
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
//
// This file is automatically generated by tools/gen_android_bp. Do not edit.

genrule {
  name: "gen_merged_sql_metrics",
  srcs: [
    "src/trace_processor/metrics/android/android_mem.sql",
    "src/trace_processor/metrics/android/android_mem_lmk.sql",
  ],
  cmd: "$(location tools/gen_merged_sql_metrics.py) --cpp_out=$(out) $(in)",
  out: [
    "src/trace_processor/metrics/sql_metrics.h",
  ],
  tool_files: [
    "tools/gen_merged_sql_metrics.py",
  ],
}

// GN target: //:heapprofd
cc_binary {
  name: "heapprofd",
  srcs: [
    ":perfetto_protos_perfetto_common_lite_gen",
    ":perfetto_protos_perfetto_common_zero_gen",
    ":perfetto_protos_perfetto_config_lite_gen",
    ":perfetto_protos_perfetto_config_zero_gen",
    ":perfetto_protos_perfetto_ipc_ipc_gen",
    ":perfetto_protos_perfetto_trace_android_zero_gen",
    ":perfetto_protos_perfetto_trace_chrome_zero_gen",
    ":perfetto_protos_perfetto_trace_filesystem_zero_gen",
    ":perfetto_protos_perfetto_trace_ftrace_zero_gen",
    ":perfetto_protos_perfetto_trace_interned_data_zero_gen",
    ":perfetto_protos_perfetto_trace_minimal_lite_gen",
    ":perfetto_protos_perfetto_trace_power_zero_gen",
    ":perfetto_protos_perfetto_trace_profiling_zero_gen",
    ":perfetto_protos_perfetto_trace_ps_zero_gen",
    ":perfetto_protos_perfetto_trace_sys_stats_zero_gen",
    ":perfetto_protos_perfetto_trace_track_event_zero_gen",
    ":perfetto_protos_perfetto_trace_trusted_lite_gen",
    ":perfetto_protos_perfetto_trace_zero_gen",
    ":perfetto_src_ipc_wire_protocol_gen",
    "src/base/event.cc",
    "src/base/file_utils.cc",
    "src/base/metatrace.cc",
    "src/base/paged_memory.cc",
    "src/base/pipe.cc",
    "src/base/string_splitter.cc",
    "src/base/string_utils.cc",
    "src/base/string_view.cc",
    "src/base/temp_file.cc",
    "src/base/thread_checker.cc",
    "src/base/thread_task_runner.cc",
    "src/base/time.cc",
    "src/base/unix_socket.cc",
    "src/base/unix_task_runner.cc",
    "src/base/virtual_destructors.cc",
    "src/base/watchdog_posix.cc",
    "src/ipc/buffered_frame_deserializer.cc",
    "src/ipc/client_impl.cc",
    "src/ipc/deferred.cc",
    "src/ipc/host_impl.cc",
    "src/ipc/service_proxy.cc",
    "src/ipc/virtual_destructors.cc",
    "src/profiling/memory/bookkeeping.cc",
    "src/profiling/memory/heapprofd_producer.cc",
    "src/profiling/memory/main.cc",
    "src/profiling/memory/proc_utils.cc",
    "src/profiling/memory/scoped_spinlock.cc",
    "src/profiling/memory/shared_ring_buffer.cc",
    "src/profiling/memory/system_property.cc",
    "src/profiling/memory/unwinding.cc",
    "src/profiling/memory/wire_protocol.cc",
    "src/protozero/message.cc",
    "src/protozero/message_handle.cc",
    "src/protozero/proto_decoder.cc",
    "src/protozero/scattered_heap_buffer.cc",
    "src/protozero/scattered_stream_null_delegate.cc",
    "src/protozero/scattered_stream_writer.cc",
    "src/tracing/core/android_log_config.cc",
    "src/tracing/core/android_power_config.cc",
    "src/tracing/core/chrome_config.cc",
    "src/tracing/core/commit_data_request.cc",
    "src/tracing/core/data_source_config.cc",
    "src/tracing/core/data_source_descriptor.cc",
    "src/tracing/core/ftrace_config.cc",
    "src/tracing/core/heapprofd_config.cc",
    "src/tracing/core/id_allocator.cc",
    "src/tracing/core/inode_file_config.cc",
    "src/tracing/core/null_trace_writer.cc",
    "src/tracing/core/observable_events.cc",
    "src/tracing/core/packages_list_config.cc",
    "src/tracing/core/packet_stream_validator.cc",
    "src/tracing/core/process_stats_config.cc",
    "src/tracing/core/shared_memory_abi.cc",
    "src/tracing/core/shared_memory_arbiter_impl.cc",
    "src/tracing/core/sliced_protobuf_input_stream.cc",
    "src/tracing/core/startup_trace_writer.cc",
    "src/tracing/core/startup_trace_writer_registry.cc",
    "src/tracing/core/sys_stats_config.cc",
    "src/tracing/core/test_config.cc",
    "src/tracing/core/trace_buffer.cc",
    "src/tracing/core/trace_config.cc",
    "src/tracing/core/trace_packet.cc",
    "src/tracing/core/trace_stats.cc",
    "src/tracing/core/trace_writer_impl.cc",
    "src/tracing/core/tracing_service_impl.cc",
    "src/tracing/core/tracing_service_state.cc",
    "src/tracing/core/virtual_destructors.cc",
  ],
  shared_libs: [
    "libbase",
    "liblog",
    "libprocinfo",
    "libprotobuf-cpp-lite",
    "libunwindstack",
  ],
  static_libs: [
    "libgtest_prod",
    "perfetto_src_tracing_ipc",
  ],
  init_rc: [
    "heapprofd.rc",
  ],
  generated_headers: [
    "perfetto_protos_perfetto_common_lite_gen_headers",
    "perfetto_protos_perfetto_common_zero_gen_headers",
    "perfetto_protos_perfetto_config_lite_gen_headers",
    "perfetto_protos_perfetto_config_zero_gen_headers",
    "perfetto_protos_perfetto_ipc_ipc_gen_headers",
    "perfetto_protos_perfetto_trace_android_zero_gen_headers",
    "perfetto_protos_perfetto_trace_chrome_zero_gen_headers",
    "perfetto_protos_perfetto_trace_filesystem_zero_gen_headers",
    "perfetto_protos_perfetto_trace_ftrace_zero_gen_headers",
    "perfetto_protos_perfetto_trace_interned_data_zero_gen_headers",
    "perfetto_protos_perfetto_trace_minimal_lite_gen_headers",
    "perfetto_protos_perfetto_trace_power_zero_gen_headers",
    "perfetto_protos_perfetto_trace_profiling_zero_gen_headers",
    "perfetto_protos_perfetto_trace_ps_zero_gen_headers",
    "perfetto_protos_perfetto_trace_sys_stats_zero_gen_headers",
    "perfetto_protos_perfetto_trace_track_event_zero_gen_headers",
    "perfetto_protos_perfetto_trace_trusted_lite_gen_headers",
    "perfetto_protos_perfetto_trace_zero_gen_headers",
    "perfetto_src_ipc_wire_protocol_gen_headers",
  ],
  defaults: [
    "perfetto_defaults",
  ],
  cflags: [
    "-DGOOGLE_PROTOBUF_NO_RTTI",
    "-DGOOGLE_PROTOBUF_NO_STATIC_INITIALIZER",
    "-DPERFETTO_BUILD_WITH_ANDROID",
  ],
}

// GN target: //:heapprofd_client
cc_library_shared {
  name: "heapprofd_client",
  srcs: [
    "src/base/event.cc",
    "src/base/file_utils.cc",
    "src/base/metatrace.cc",
    "src/base/paged_memory.cc",
    "src/base/pipe.cc",
    "src/base/string_splitter.cc",
    "src/base/string_utils.cc",
    "src/base/string_view.cc",
    "src/base/temp_file.cc",
    "src/base/thread_checker.cc",
    "src/base/thread_task_runner.cc",
    "src/base/time.cc",
    "src/base/unix_socket.cc",
    "src/base/unix_task_runner.cc",
    "src/base/virtual_destructors.cc",
    "src/base/watchdog_posix.cc",
    "src/profiling/memory/client.cc",
    "src/profiling/memory/malloc_hooks.cc",
    "src/profiling/memory/proc_utils.cc",
    "src/profiling/memory/scoped_spinlock.cc",
    "src/profiling/memory/shared_ring_buffer.cc",
    "src/profiling/memory/wire_protocol.cc",
  ],
  shared_libs: [
    "libbase",
    "libprocinfo",
    "libunwindstack",
  ],
  static_libs: [
    "libasync_safe",
    "libgtest_prod",
  ],
  defaults: [
    "perfetto_defaults",
  ],
  cflags: [
    "-DPERFETTO_ANDROID_ASYNC_SAFE_LOG",
    "-DPERFETTO_BUILD_WITH_ANDROID",
  ],
  include_dirs: [
    "bionic/libc",
  ],
}

// GN target: //:libperfetto
cc_library_shared {
  name: "libperfetto",
  srcs: [
    ":perfetto_protos_perfetto_common_lite_gen",
    ":perfetto_protos_perfetto_common_zero_gen",
    ":perfetto_protos_perfetto_config_lite_gen",
    ":perfetto_protos_perfetto_config_zero_gen",
    ":perfetto_protos_perfetto_ipc_ipc_gen",
    ":perfetto_protos_perfetto_trace_android_zero_gen",
    ":perfetto_protos_perfetto_trace_chrome_zero_gen",
    ":perfetto_protos_perfetto_trace_filesystem_zero_gen",
    ":perfetto_protos_perfetto_trace_ftrace_zero_gen",
    ":perfetto_protos_perfetto_trace_interned_data_zero_gen",
    ":perfetto_protos_perfetto_trace_minimal_lite_gen",
    ":perfetto_protos_perfetto_trace_power_zero_gen",
    ":perfetto_protos_perfetto_trace_profiling_zero_gen",
    ":perfetto_protos_perfetto_trace_ps_zero_gen",
    ":perfetto_protos_perfetto_trace_sys_stats_zero_gen",
    ":perfetto_protos_perfetto_trace_track_event_zero_gen",
    ":perfetto_protos_perfetto_trace_trusted_lite_gen",
    ":perfetto_protos_perfetto_trace_zero_gen",
    ":perfetto_src_ipc_wire_protocol_gen",
    "src/android_internal/lazy_library_loader.cc",
    "src/base/event.cc",
    "src/base/file_utils.cc",
    "src/base/metatrace.cc",
    "src/base/paged_memory.cc",
    "src/base/pipe.cc",
    "src/base/string_splitter.cc",
    "src/base/string_utils.cc",
    "src/base/string_view.cc",
    "src/base/temp_file.cc",
    "src/base/thread_checker.cc",
    "src/base/thread_task_runner.cc",
    "src/base/time.cc",
    "src/base/unix_socket.cc",
    "src/base/unix_task_runner.cc",
    "src/base/virtual_destructors.cc",
    "src/base/watchdog_posix.cc",
    "src/ipc/buffered_frame_deserializer.cc",
    "src/ipc/client_impl.cc",
    "src/ipc/deferred.cc",
    "src/ipc/host_impl.cc",
    "src/ipc/service_proxy.cc",
    "src/ipc/virtual_destructors.cc",
    "src/protozero/message.cc",
    "src/protozero/message_handle.cc",
    "src/protozero/proto_decoder.cc",
    "src/protozero/scattered_heap_buffer.cc",
    "src/protozero/scattered_stream_null_delegate.cc",
    "src/protozero/scattered_stream_writer.cc",
    "src/traced/probes/android_log/android_log_data_source.cc",
    "src/traced/probes/filesystem/file_scanner.cc",
    "src/traced/probes/filesystem/fs_mount.cc",
    "src/traced/probes/filesystem/inode_file_data_source.cc",
    "src/traced/probes/filesystem/lru_inode_cache.cc",
    "src/traced/probes/filesystem/prefix_finder.cc",
    "src/traced/probes/filesystem/range_tree.cc",
    "src/traced/probes/ftrace/atrace_hal_wrapper.cc",
    "src/traced/probes/ftrace/atrace_wrapper.cc",
    "src/traced/probes/ftrace/cpu_reader.cc",
    "src/traced/probes/ftrace/cpu_stats_parser.cc",
    "src/traced/probes/ftrace/event_info.cc",
    "src/traced/probes/ftrace/event_info_constants.cc",
    "src/traced/probes/ftrace/format_parser.cc",
    "src/traced/probes/ftrace/ftrace_config.cc",
    "src/traced/probes/ftrace/ftrace_config_muxer.cc",
    "src/traced/probes/ftrace/ftrace_controller.cc",
    "src/traced/probes/ftrace/ftrace_data_source.cc",
    "src/traced/probes/ftrace/ftrace_metadata.cc",
    "src/traced/probes/ftrace/ftrace_procfs.cc",
    "src/traced/probes/ftrace/ftrace_stats.cc",
    "src/traced/probes/ftrace/page_pool.cc",
    "src/traced/probes/ftrace/proto_translation_table.cc",
    "src/traced/probes/packages_list/packages_list_data_source.cc",
    "src/traced/probes/power/android_power_data_source.cc",
    "src/traced/probes/probes.cc",
    "src/traced/probes/probes_data_source.cc",
    "src/traced/probes/probes_producer.cc",
    "src/traced/probes/ps/process_stats_data_source.cc",
    "src/traced/probes/sys_stats/sys_stats_data_source.cc",
    "src/traced/service/lazy_producer.cc",
    "src/traced/service/service.cc",
    "src/tracing/api_impl/consumer_api.cc",
    "src/tracing/core/android_log_config.cc",
    "src/tracing/core/android_power_config.cc",
    "src/tracing/core/chrome_config.cc",
    "src/tracing/core/commit_data_request.cc",
    "src/tracing/core/data_source_config.cc",
    "src/tracing/core/data_source_descriptor.cc",
    "src/tracing/core/ftrace_config.cc",
    "src/tracing/core/heapprofd_config.cc",
    "src/tracing/core/id_allocator.cc",
    "src/tracing/core/inode_file_config.cc",
    "src/tracing/core/null_trace_writer.cc",
    "src/tracing/core/observable_events.cc",
    "src/tracing/core/packages_list_config.cc",
    "src/tracing/core/packet_stream_validator.cc",
    "src/tracing/core/process_stats_config.cc",
    "src/tracing/core/shared_memory_abi.cc",
    "src/tracing/core/shared_memory_arbiter_impl.cc",
    "src/tracing/core/sliced_protobuf_input_stream.cc",
    "src/tracing/core/startup_trace_writer.cc",
    "src/tracing/core/startup_trace_writer_registry.cc",
    "src/tracing/core/sys_stats_config.cc",
    "src/tracing/core/test_config.cc",
    "src/tracing/core/trace_buffer.cc",
    "src/tracing/core/trace_config.cc",
    "src/tracing/core/trace_packet.cc",
    "src/tracing/core/trace_stats.cc",
    "src/tracing/core/trace_writer_impl.cc",
    "src/tracing/core/tracing_service_impl.cc",
    "src/tracing/core/tracing_service_state.cc",
    "src/tracing/core/virtual_destructors.cc",
  ],
  shared_libs: [
    "liblog",
    "libprotobuf-cpp-lite",
  ],
  static_libs: [
    "libgtest_prod",
    "perfetto_src_tracing_ipc",
  ],
  generated_headers: [
    "perfetto_protos_perfetto_common_lite_gen_headers",
    "perfetto_protos_perfetto_common_zero_gen_headers",
    "perfetto_protos_perfetto_config_lite_gen_headers",
    "perfetto_protos_perfetto_config_zero_gen_headers",
    "perfetto_protos_perfetto_ipc_ipc_gen_headers",
    "perfetto_protos_perfetto_trace_android_zero_gen_headers",
    "perfetto_protos_perfetto_trace_chrome_zero_gen_headers",
    "perfetto_protos_perfetto_trace_filesystem_zero_gen_headers",
    "perfetto_protos_perfetto_trace_ftrace_zero_gen_headers",
    "perfetto_protos_perfetto_trace_interned_data_zero_gen_headers",
    "perfetto_protos_perfetto_trace_minimal_lite_gen_headers",
    "perfetto_protos_perfetto_trace_power_zero_gen_headers",
    "perfetto_protos_perfetto_trace_profiling_zero_gen_headers",
    "perfetto_protos_perfetto_trace_ps_zero_gen_headers",
    "perfetto_protos_perfetto_trace_sys_stats_zero_gen_headers",
    "perfetto_protos_perfetto_trace_track_event_zero_gen_headers",
    "perfetto_protos_perfetto_trace_trusted_lite_gen_headers",
    "perfetto_protos_perfetto_trace_zero_gen_headers",
    "perfetto_src_ipc_wire_protocol_gen_headers",
  ],
  defaults: [
    "perfetto_defaults",
  ],
  cflags: [
    "-DGOOGLE_PROTOBUF_NO_RTTI",
    "-DGOOGLE_PROTOBUF_NO_STATIC_INITIALIZER",
    "-DPERFETTO_BUILD_WITH_ANDROID",
  ],
}

// GN target: //:libperfetto_android_internal
cc_library_shared {
  name: "libperfetto_android_internal",
  srcs: [
    "src/android_internal/atrace_hal.cc",
    "src/android_internal/health_hal.cc",
    "src/android_internal/incident_service.cc",
    "src/android_internal/power_stats_hal.cc",
  ],
  shared_libs: [
    "android.hardware.atrace@1.0",
    "android.hardware.health@2.0",
    "android.hardware.power.stats@1.0",
    "libbase",
    "libbinder",
    "libhidlbase",
    "libhidltransport",
    "libhwbinder",
    "libincident",
    "liblog",
    "libservices",
    "libutils",
  ],
  static_libs: [
    "libhealthhalutils",
  ],
  defaults: [
    "perfetto_defaults",
  ],
  cflags: [
    "-DPERFETTO_BUILD_WITH_ANDROID",
  ],
  product_variables: {
    pdk: {
      enabled: false,
    },
  },
}

// GN target: //:perfetto
cc_binary {
  name: "perfetto",
  srcs: [
    ":perfetto_protos_perfetto_common_lite_gen",
    ":perfetto_protos_perfetto_common_zero_gen",
    ":perfetto_protos_perfetto_config_lite_gen",
    ":perfetto_protos_perfetto_config_zero_gen",
    ":perfetto_protos_perfetto_ipc_ipc_gen",
    ":perfetto_protos_perfetto_trace_android_zero_gen",
    ":perfetto_protos_perfetto_trace_chrome_zero_gen",
    ":perfetto_protos_perfetto_trace_filesystem_zero_gen",
    ":perfetto_protos_perfetto_trace_ftrace_zero_gen",
    ":perfetto_protos_perfetto_trace_interned_data_zero_gen",
    ":perfetto_protos_perfetto_trace_minimal_lite_gen",
    ":perfetto_protos_perfetto_trace_power_zero_gen",
    ":perfetto_protos_perfetto_trace_profiling_zero_gen",
    ":perfetto_protos_perfetto_trace_ps_zero_gen",
    ":perfetto_protos_perfetto_trace_sys_stats_zero_gen",
    ":perfetto_protos_perfetto_trace_track_event_zero_gen",
    ":perfetto_protos_perfetto_trace_trusted_lite_gen",
    ":perfetto_protos_perfetto_trace_zero_gen",
    ":perfetto_src_ipc_wire_protocol_gen",
    ":perfetto_src_perfetto_cmd_protos_gen",
    "src/android_internal/lazy_library_loader.cc",
    "src/base/android_task_runner.cc",
    "src/base/event.cc",
    "src/base/file_utils.cc",
    "src/base/metatrace.cc",
    "src/base/paged_memory.cc",
    "src/base/pipe.cc",
    "src/base/string_splitter.cc",
    "src/base/string_utils.cc",
    "src/base/string_view.cc",
    "src/base/temp_file.cc",
    "src/base/thread_checker.cc",
    "src/base/thread_task_runner.cc",
    "src/base/time.cc",
    "src/base/unix_socket.cc",
    "src/base/unix_task_runner.cc",
    "src/base/virtual_destructors.cc",
    "src/base/watchdog_posix.cc",
    "src/ipc/buffered_frame_deserializer.cc",
    "src/ipc/client_impl.cc",
    "src/ipc/deferred.cc",
    "src/ipc/host_impl.cc",
    "src/ipc/service_proxy.cc",
    "src/ipc/virtual_destructors.cc",
    "src/perfetto_cmd/config.cc",
    "src/perfetto_cmd/main.cc",
    "src/perfetto_cmd/packet_writer.cc",
    "src/perfetto_cmd/pbtxt_to_pb.cc",
    "src/perfetto_cmd/perfetto_cmd.cc",
    "src/perfetto_cmd/rate_limiter.cc",
    "src/perfetto_cmd/trigger_producer.cc",
    "src/protozero/message.cc",
    "src/protozero/message_handle.cc",
    "src/protozero/proto_decoder.cc",
    "src/protozero/scattered_heap_buffer.cc",
    "src/protozero/scattered_stream_null_delegate.cc",
    "src/protozero/scattered_stream_writer.cc",
    "src/tracing/core/android_log_config.cc",
    "src/tracing/core/android_power_config.cc",
    "src/tracing/core/chrome_config.cc",
    "src/tracing/core/commit_data_request.cc",
    "src/tracing/core/data_source_config.cc",
    "src/tracing/core/data_source_descriptor.cc",
    "src/tracing/core/ftrace_config.cc",
    "src/tracing/core/heapprofd_config.cc",
    "src/tracing/core/id_allocator.cc",
    "src/tracing/core/inode_file_config.cc",
    "src/tracing/core/null_trace_writer.cc",
    "src/tracing/core/observable_events.cc",
    "src/tracing/core/packages_list_config.cc",
    "src/tracing/core/packet_stream_validator.cc",
    "src/tracing/core/process_stats_config.cc",
    "src/tracing/core/shared_memory_abi.cc",
    "src/tracing/core/shared_memory_arbiter_impl.cc",
    "src/tracing/core/sliced_protobuf_input_stream.cc",
    "src/tracing/core/startup_trace_writer.cc",
    "src/tracing/core/startup_trace_writer_registry.cc",
    "src/tracing/core/sys_stats_config.cc",
    "src/tracing/core/test_config.cc",
    "src/tracing/core/trace_buffer.cc",
    "src/tracing/core/trace_config.cc",
    "src/tracing/core/trace_packet.cc",
    "src/tracing/core/trace_stats.cc",
    "src/tracing/core/trace_writer_impl.cc",
    "src/tracing/core/tracing_service_impl.cc",
    "src/tracing/core/tracing_service_state.cc",
    "src/tracing/core/virtual_destructors.cc",
  ],
  shared_libs: [
    "libandroid",
    "libbinder",
    "liblog",
    "libprotobuf-cpp-lite",
    "libservices",
    "libutils",
    "libz",
  ],
  static_libs: [
    "libgtest_prod",
    "perfetto_src_tracing_ipc",
  ],
  generated_headers: [
    "perfetto_protos_perfetto_common_lite_gen_headers",
    "perfetto_protos_perfetto_common_zero_gen_headers",
    "perfetto_protos_perfetto_config_lite_gen_headers",
    "perfetto_protos_perfetto_config_zero_gen_headers",
    "perfetto_protos_perfetto_ipc_ipc_gen_headers",
    "perfetto_protos_perfetto_trace_android_zero_gen_headers",
    "perfetto_protos_perfetto_trace_chrome_zero_gen_headers",
    "perfetto_protos_perfetto_trace_filesystem_zero_gen_headers",
    "perfetto_protos_perfetto_trace_ftrace_zero_gen_headers",
    "perfetto_protos_perfetto_trace_interned_data_zero_gen_headers",
    "perfetto_protos_perfetto_trace_minimal_lite_gen_headers",
    "perfetto_protos_perfetto_trace_power_zero_gen_headers",
    "perfetto_protos_perfetto_trace_profiling_zero_gen_headers",
    "perfetto_protos_perfetto_trace_ps_zero_gen_headers",
    "perfetto_protos_perfetto_trace_sys_stats_zero_gen_headers",
    "perfetto_protos_perfetto_trace_track_event_zero_gen_headers",
    "perfetto_protos_perfetto_trace_trusted_lite_gen_headers",
    "perfetto_protos_perfetto_trace_zero_gen_headers",
    "perfetto_src_ipc_wire_protocol_gen_headers",
    "perfetto_src_perfetto_cmd_protos_gen_headers",
  ],
  defaults: [
    "perfetto_defaults",
  ],
  cflags: [
    "-DGOOGLE_PROTOBUF_NO_RTTI",
    "-DGOOGLE_PROTOBUF_NO_STATIC_INITIALIZER",
    "-DHAVE_HIDDEN",
    "-DPERFETTO_BUILD_WITH_ANDROID",
    "-DUSE_MMAP",
    "-DZLIB_CONST",
  ],
  product_variables: {
    pdk: {
      enabled: false,
    },
  },
}

cc_defaults {
  name: "perfetto_defaults",
  cflags: [
    "-Oz",
    "-Wno-error=return-type",
    "-Wno-sign-compare",
    "-Wno-sign-promo",
    "-Wno-unused-parameter",
    "-fvisibility=hidden",
  ],
  local_include_dirs: [
    "include",
  ],
  product_variables: {
    debuggable: {
      cflags: ["-DPERFETTO_BUILD_WITH_ANDROID_USERDEBUG"],
    },
  },
}

// GN target: //:perfetto_integrationtests
cc_test {
  name: "perfetto_integrationtests",
  srcs: [
    ":perfetto_protos_perfetto_common_lite_gen",
    ":perfetto_protos_perfetto_common_zero_gen",
    ":perfetto_protos_perfetto_config_lite_gen",
    ":perfetto_protos_perfetto_config_zero_gen",
    ":perfetto_protos_perfetto_ipc_ipc_gen",
    ":perfetto_protos_perfetto_trace_android_lite_gen",
    ":perfetto_protos_perfetto_trace_android_zero_gen",
    ":perfetto_protos_perfetto_trace_chrome_lite_gen",
    ":perfetto_protos_perfetto_trace_chrome_zero_gen",
    ":perfetto_protos_perfetto_trace_filesystem_lite_gen",
    ":perfetto_protos_perfetto_trace_filesystem_zero_gen",
    ":perfetto_protos_perfetto_trace_ftrace_lite_gen",
    ":perfetto_protos_perfetto_trace_ftrace_zero_gen",
    ":perfetto_protos_perfetto_trace_interned_data_lite_gen",
    ":perfetto_protos_perfetto_trace_interned_data_zero_gen",
    ":perfetto_protos_perfetto_trace_lite_gen",
    ":perfetto_protos_perfetto_trace_minimal_lite_gen",
    ":perfetto_protos_perfetto_trace_power_lite_gen",
    ":perfetto_protos_perfetto_trace_power_zero_gen",
    ":perfetto_protos_perfetto_trace_profiling_lite_gen",
    ":perfetto_protos_perfetto_trace_profiling_zero_gen",
    ":perfetto_protos_perfetto_trace_ps_lite_gen",
    ":perfetto_protos_perfetto_trace_ps_zero_gen",
    ":perfetto_protos_perfetto_trace_sys_stats_lite_gen",
    ":perfetto_protos_perfetto_trace_sys_stats_zero_gen",
    ":perfetto_protos_perfetto_trace_track_event_lite_gen",
    ":perfetto_protos_perfetto_trace_track_event_zero_gen",
    ":perfetto_protos_perfetto_trace_trusted_lite_gen",
    ":perfetto_protos_perfetto_trace_zero_gen",
    ":perfetto_src_ipc_wire_protocol_gen",
    "src/android_internal/lazy_library_loader.cc",
    "src/base/android_task_runner.cc",
    "src/base/event.cc",
    "src/base/file_utils.cc",
    "src/base/metatrace.cc",
    "src/base/paged_memory.cc",
    "src/base/pipe.cc",
    "src/base/string_splitter.cc",
    "src/base/string_utils.cc",
    "src/base/string_view.cc",
    "src/base/temp_file.cc",
    "src/base/test/test_task_runner.cc",
    "src/base/test/utils.cc",
    "src/base/test/vm_test_utils.cc",
    "src/base/thread_checker.cc",
    "src/base/thread_task_runner.cc",
    "src/base/time.cc",
    "src/base/unix_socket.cc",
    "src/base/unix_task_runner.cc",
    "src/base/virtual_destructors.cc",
    "src/base/watchdog_posix.cc",
    "src/ipc/buffered_frame_deserializer.cc",
    "src/ipc/client_impl.cc",
    "src/ipc/deferred.cc",
    "src/ipc/host_impl.cc",
    "src/ipc/service_proxy.cc",
    "src/ipc/virtual_destructors.cc",
    "src/profiling/memory/bookkeeping.cc",
    "src/profiling/memory/client.cc",
    "src/profiling/memory/heapprofd_end_to_end_test.cc",
    "src/profiling/memory/heapprofd_producer.cc",
    "src/profiling/memory/proc_utils.cc",
    "src/profiling/memory/scoped_spinlock.cc",
    "src/profiling/memory/shared_ring_buffer.cc",
    "src/profiling/memory/system_property.cc",
    "src/profiling/memory/unwinding.cc",
    "src/profiling/memory/wire_protocol.cc",
    "src/protozero/message.cc",
    "src/protozero/message_handle.cc",
    "src/protozero/proto_decoder.cc",
    "src/protozero/scattered_heap_buffer.cc",
    "src/protozero/scattered_stream_null_delegate.cc",
    "src/protozero/scattered_stream_writer.cc",
    "src/traced/probes/android_log/android_log_data_source.cc",
    "src/traced/probes/filesystem/file_scanner.cc",
    "src/traced/probes/filesystem/fs_mount.cc",
    "src/traced/probes/filesystem/inode_file_data_source.cc",
    "src/traced/probes/filesystem/lru_inode_cache.cc",
    "src/traced/probes/filesystem/prefix_finder.cc",
    "src/traced/probes/filesystem/range_tree.cc",
    "src/traced/probes/ftrace/atrace_hal_wrapper.cc",
    "src/traced/probes/ftrace/atrace_wrapper.cc",
    "src/traced/probes/ftrace/cpu_reader.cc",
    "src/traced/probes/ftrace/cpu_stats_parser.cc",
    "src/traced/probes/ftrace/event_info.cc",
    "src/traced/probes/ftrace/event_info_constants.cc",
    "src/traced/probes/ftrace/format_parser.cc",
    "src/traced/probes/ftrace/ftrace_config.cc",
    "src/traced/probes/ftrace/ftrace_config_muxer.cc",
    "src/traced/probes/ftrace/ftrace_controller.cc",
    "src/traced/probes/ftrace/ftrace_data_source.cc",
    "src/traced/probes/ftrace/ftrace_metadata.cc",
    "src/traced/probes/ftrace/ftrace_procfs.cc",
    "src/traced/probes/ftrace/ftrace_procfs_integrationtest.cc",
    "src/traced/probes/ftrace/ftrace_stats.cc",
    "src/traced/probes/ftrace/page_pool.cc",
    "src/traced/probes/ftrace/proto_translation_table.cc",
    "src/traced/probes/ftrace/test/cpu_reader_support.cc",
    "src/traced/probes/packages_list/packages_list_data_source.cc",
    "src/traced/probes/power/android_power_data_source.cc",
    "src/traced/probes/probes_data_source.cc",
    "src/traced/probes/probes_producer.cc",
    "src/traced/probes/ps/process_stats_data_source.cc",
    "src/traced/probes/sys_stats/sys_stats_data_source.cc",
    "src/tracing/core/android_log_config.cc",
    "src/tracing/core/android_power_config.cc",
    "src/tracing/core/chrome_config.cc",
    "src/tracing/core/commit_data_request.cc",
    "src/tracing/core/data_source_config.cc",
    "src/tracing/core/data_source_descriptor.cc",
    "src/tracing/core/ftrace_config.cc",
    "src/tracing/core/heapprofd_config.cc",
    "src/tracing/core/id_allocator.cc",
    "src/tracing/core/inode_file_config.cc",
    "src/tracing/core/null_trace_writer.cc",
    "src/tracing/core/observable_events.cc",
    "src/tracing/core/packages_list_config.cc",
    "src/tracing/core/packet_stream_validator.cc",
    "src/tracing/core/process_stats_config.cc",
    "src/tracing/core/shared_memory_abi.cc",
    "src/tracing/core/shared_memory_arbiter_impl.cc",
    "src/tracing/core/sliced_protobuf_input_stream.cc",
    "src/tracing/core/startup_trace_writer.cc",
    "src/tracing/core/startup_trace_writer_registry.cc",
    "src/tracing/core/sys_stats_config.cc",
    "src/tracing/core/test_config.cc",
    "src/tracing/core/trace_buffer.cc",
    "src/tracing/core/trace_config.cc",
    "src/tracing/core/trace_packet.cc",
    "src/tracing/core/trace_stats.cc",
    "src/tracing/core/trace_writer_impl.cc",
    "src/tracing/core/tracing_service_impl.cc",
    "src/tracing/core/tracing_service_state.cc",
    "src/tracing/core/virtual_destructors.cc",
    "test/end_to_end_integrationtest.cc",
    "test/fake_producer.cc",
    "test/task_runner_thread.cc",
    "test/test_helper.cc",
  ],
  shared_libs: [
    "libandroid",
    "libbase",
    "liblog",
    "libprocinfo",
    "libprotobuf-cpp-lite",
    "libunwindstack",
  ],
  static_libs: [
    "libgmock",
    "libgtest_prod",
    "perfetto_src_tracing_ipc",
  ],
  generated_headers: [
    "perfetto_protos_perfetto_common_lite_gen_headers",
    "perfetto_protos_perfetto_common_zero_gen_headers",
    "perfetto_protos_perfetto_config_lite_gen_headers",
    "perfetto_protos_perfetto_config_zero_gen_headers",
    "perfetto_protos_perfetto_ipc_ipc_gen_headers",
    "perfetto_protos_perfetto_trace_android_lite_gen_headers",
    "perfetto_protos_perfetto_trace_android_zero_gen_headers",
    "perfetto_protos_perfetto_trace_chrome_lite_gen_headers",
    "perfetto_protos_perfetto_trace_chrome_zero_gen_headers",
    "perfetto_protos_perfetto_trace_filesystem_lite_gen_headers",
    "perfetto_protos_perfetto_trace_filesystem_zero_gen_headers",
    "perfetto_protos_perfetto_trace_ftrace_lite_gen_headers",
    "perfetto_protos_perfetto_trace_ftrace_zero_gen_headers",
    "perfetto_protos_perfetto_trace_interned_data_lite_gen_headers",
    "perfetto_protos_perfetto_trace_interned_data_zero_gen_headers",
    "perfetto_protos_perfetto_trace_lite_gen_headers",
    "perfetto_protos_perfetto_trace_minimal_lite_gen_headers",
    "perfetto_protos_perfetto_trace_power_lite_gen_headers",
    "perfetto_protos_perfetto_trace_power_zero_gen_headers",
    "perfetto_protos_perfetto_trace_profiling_lite_gen_headers",
    "perfetto_protos_perfetto_trace_profiling_zero_gen_headers",
    "perfetto_protos_perfetto_trace_ps_lite_gen_headers",
    "perfetto_protos_perfetto_trace_ps_zero_gen_headers",
    "perfetto_protos_perfetto_trace_sys_stats_lite_gen_headers",
    "perfetto_protos_perfetto_trace_sys_stats_zero_gen_headers",
    "perfetto_protos_perfetto_trace_track_event_lite_gen_headers",
    "perfetto_protos_perfetto_trace_track_event_zero_gen_headers",
    "perfetto_protos_perfetto_trace_trusted_lite_gen_headers",
    "perfetto_protos_perfetto_trace_zero_gen_headers",
    "perfetto_src_ipc_wire_protocol_gen_headers",
  ],
  defaults: [
    "perfetto_defaults",
  ],
  cflags: [
    "-DGOOGLE_PROTOBUF_NO_RTTI",
    "-DGOOGLE_PROTOBUF_NO_STATIC_INITIALIZER",
    "-DPERFETTO_BUILD_WITH_ANDROID",
  ],
  product_variables: {
    pdk: {
      enabled: false,
    },
  },
}

// GN target: //protos/perfetto/common:lite_gen
genrule {
  name: "perfetto_protos_perfetto_common_lite_gen",
  srcs: [
    "protos/perfetto/common/android_log_constants.proto",
    "protos/perfetto/common/commit_data_request.proto",
    "protos/perfetto/common/data_source_descriptor.proto",
    "protos/perfetto/common/descriptor.proto",
    "protos/perfetto/common/observable_events.proto",
    "protos/perfetto/common/sys_stats_counters.proto",
    "protos/perfetto/common/trace_stats.proto",
    "protos/perfetto/common/tracing_service_state.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/common/android_log_constants.pb.cc",
    "external/perfetto/protos/perfetto/common/commit_data_request.pb.cc",
    "external/perfetto/protos/perfetto/common/data_source_descriptor.pb.cc",
    "external/perfetto/protos/perfetto/common/descriptor.pb.cc",
    "external/perfetto/protos/perfetto/common/observable_events.pb.cc",
    "external/perfetto/protos/perfetto/common/sys_stats_counters.pb.cc",
    "external/perfetto/protos/perfetto/common/trace_stats.pb.cc",
    "external/perfetto/protos/perfetto/common/tracing_service_state.pb.cc",
  ],
}

// GN target: //protos/perfetto/common:lite_gen
genrule {
  name: "perfetto_protos_perfetto_common_lite_gen_headers",
  srcs: [
    "protos/perfetto/common/android_log_constants.proto",
    "protos/perfetto/common/commit_data_request.proto",
    "protos/perfetto/common/data_source_descriptor.proto",
    "protos/perfetto/common/descriptor.proto",
    "protos/perfetto/common/observable_events.proto",
    "protos/perfetto/common/sys_stats_counters.proto",
    "protos/perfetto/common/trace_stats.proto",
    "protos/perfetto/common/tracing_service_state.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/common/android_log_constants.pb.h",
    "external/perfetto/protos/perfetto/common/commit_data_request.pb.h",
    "external/perfetto/protos/perfetto/common/data_source_descriptor.pb.h",
    "external/perfetto/protos/perfetto/common/descriptor.pb.h",
    "external/perfetto/protos/perfetto/common/observable_events.pb.h",
    "external/perfetto/protos/perfetto/common/sys_stats_counters.pb.h",
    "external/perfetto/protos/perfetto/common/trace_stats.pb.h",
    "external/perfetto/protos/perfetto/common/tracing_service_state.pb.h",
  ],
  export_include_dirs: [
    "protos",
  ],
}

// GN target: //protos/perfetto/common:zero_gen
genrule {
  name: "perfetto_protos_perfetto_common_zero_gen",
  srcs: [
    "protos/perfetto/common/android_log_constants.proto",
    "protos/perfetto/common/commit_data_request.proto",
    "protos/perfetto/common/data_source_descriptor.proto",
    "protos/perfetto/common/descriptor.proto",
    "protos/perfetto/common/observable_events.proto",
    "protos/perfetto/common/sys_stats_counters.proto",
    "protos/perfetto/common/trace_stats.proto",
    "protos/perfetto/common/tracing_service_state.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos --plugin=protoc-gen-plugin=$(location perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=wrapper_namespace=pbzero:$(genDir)/external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/common/android_log_constants.pbzero.cc",
    "external/perfetto/protos/perfetto/common/commit_data_request.pbzero.cc",
    "external/perfetto/protos/perfetto/common/data_source_descriptor.pbzero.cc",
    "external/perfetto/protos/perfetto/common/descriptor.pbzero.cc",
    "external/perfetto/protos/perfetto/common/observable_events.pbzero.cc",
    "external/perfetto/protos/perfetto/common/sys_stats_counters.pbzero.cc",
    "external/perfetto/protos/perfetto/common/trace_stats.pbzero.cc",
    "external/perfetto/protos/perfetto/common/tracing_service_state.pbzero.cc",
  ],
}

// GN target: //protos/perfetto/common:zero_gen
genrule {
  name: "perfetto_protos_perfetto_common_zero_gen_headers",
  srcs: [
    "protos/perfetto/common/android_log_constants.proto",
    "protos/perfetto/common/commit_data_request.proto",
    "protos/perfetto/common/data_source_descriptor.proto",
    "protos/perfetto/common/descriptor.proto",
    "protos/perfetto/common/observable_events.proto",
    "protos/perfetto/common/sys_stats_counters.proto",
    "protos/perfetto/common/trace_stats.proto",
    "protos/perfetto/common/tracing_service_state.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos --plugin=protoc-gen-plugin=$(location perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=wrapper_namespace=pbzero:$(genDir)/external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/common/android_log_constants.pbzero.h",
    "external/perfetto/protos/perfetto/common/commit_data_request.pbzero.h",
    "external/perfetto/protos/perfetto/common/data_source_descriptor.pbzero.h",
    "external/perfetto/protos/perfetto/common/descriptor.pbzero.h",
    "external/perfetto/protos/perfetto/common/observable_events.pbzero.h",
    "external/perfetto/protos/perfetto/common/sys_stats_counters.pbzero.h",
    "external/perfetto/protos/perfetto/common/trace_stats.pbzero.h",
    "external/perfetto/protos/perfetto/common/tracing_service_state.pbzero.h",
  ],
  export_include_dirs: [
    "protos",
  ],
}

// GN target: //protos/perfetto/config:lite_gen
genrule {
  name: "perfetto_protos_perfetto_config_lite_gen",
  srcs: [
    "protos/perfetto/config/android/android_log_config.proto",
    "protos/perfetto/config/android/packages_list_config.proto",
    "protos/perfetto/config/chrome/chrome_config.proto",
    "protos/perfetto/config/data_source_config.proto",
    "protos/perfetto/config/ftrace/ftrace_config.proto",
    "protos/perfetto/config/inode_file/inode_file_config.proto",
    "protos/perfetto/config/power/android_power_config.proto",
    "protos/perfetto/config/process_stats/process_stats_config.proto",
    "protos/perfetto/config/profiling/heapprofd_config.proto",
    "protos/perfetto/config/sys_stats/sys_stats_config.proto",
    "protos/perfetto/config/test_config.proto",
    "protos/perfetto/config/trace_config.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/config/android/android_log_config.pb.cc",
    "external/perfetto/protos/perfetto/config/android/packages_list_config.pb.cc",
    "external/perfetto/protos/perfetto/config/chrome/chrome_config.pb.cc",
    "external/perfetto/protos/perfetto/config/data_source_config.pb.cc",
    "external/perfetto/protos/perfetto/config/ftrace/ftrace_config.pb.cc",
    "external/perfetto/protos/perfetto/config/inode_file/inode_file_config.pb.cc",
    "external/perfetto/protos/perfetto/config/power/android_power_config.pb.cc",
    "external/perfetto/protos/perfetto/config/process_stats/process_stats_config.pb.cc",
    "external/perfetto/protos/perfetto/config/profiling/heapprofd_config.pb.cc",
    "external/perfetto/protos/perfetto/config/sys_stats/sys_stats_config.pb.cc",
    "external/perfetto/protos/perfetto/config/test_config.pb.cc",
    "external/perfetto/protos/perfetto/config/trace_config.pb.cc",
  ],
}

// GN target: //protos/perfetto/config:lite_gen
genrule {
  name: "perfetto_protos_perfetto_config_lite_gen_headers",
  srcs: [
    "protos/perfetto/config/android/android_log_config.proto",
    "protos/perfetto/config/android/packages_list_config.proto",
    "protos/perfetto/config/chrome/chrome_config.proto",
    "protos/perfetto/config/data_source_config.proto",
    "protos/perfetto/config/ftrace/ftrace_config.proto",
    "protos/perfetto/config/inode_file/inode_file_config.proto",
    "protos/perfetto/config/power/android_power_config.proto",
    "protos/perfetto/config/process_stats/process_stats_config.proto",
    "protos/perfetto/config/profiling/heapprofd_config.proto",
    "protos/perfetto/config/sys_stats/sys_stats_config.proto",
    "protos/perfetto/config/test_config.proto",
    "protos/perfetto/config/trace_config.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/config/android/android_log_config.pb.h",
    "external/perfetto/protos/perfetto/config/android/packages_list_config.pb.h",
    "external/perfetto/protos/perfetto/config/chrome/chrome_config.pb.h",
    "external/perfetto/protos/perfetto/config/data_source_config.pb.h",
    "external/perfetto/protos/perfetto/config/ftrace/ftrace_config.pb.h",
    "external/perfetto/protos/perfetto/config/inode_file/inode_file_config.pb.h",
    "external/perfetto/protos/perfetto/config/power/android_power_config.pb.h",
    "external/perfetto/protos/perfetto/config/process_stats/process_stats_config.pb.h",
    "external/perfetto/protos/perfetto/config/profiling/heapprofd_config.pb.h",
    "external/perfetto/protos/perfetto/config/sys_stats/sys_stats_config.pb.h",
    "external/perfetto/protos/perfetto/config/test_config.pb.h",
    "external/perfetto/protos/perfetto/config/trace_config.pb.h",
  ],
  export_include_dirs: [
    "protos",
  ],
}

// GN target: //protos/perfetto/config:zero_gen
genrule {
  name: "perfetto_protos_perfetto_config_zero_gen",
  srcs: [
    "protos/perfetto/config/android/android_log_config.proto",
    "protos/perfetto/config/android/packages_list_config.proto",
    "protos/perfetto/config/chrome/chrome_config.proto",
    "protos/perfetto/config/data_source_config.proto",
    "protos/perfetto/config/ftrace/ftrace_config.proto",
    "protos/perfetto/config/inode_file/inode_file_config.proto",
    "protos/perfetto/config/power/android_power_config.proto",
    "protos/perfetto/config/process_stats/process_stats_config.proto",
    "protos/perfetto/config/profiling/heapprofd_config.proto",
    "protos/perfetto/config/sys_stats/sys_stats_config.proto",
    "protos/perfetto/config/test_config.proto",
    "protos/perfetto/config/trace_config.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos --plugin=protoc-gen-plugin=$(location perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=wrapper_namespace=pbzero:$(genDir)/external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/config/android/android_log_config.pbzero.cc",
    "external/perfetto/protos/perfetto/config/android/packages_list_config.pbzero.cc",
    "external/perfetto/protos/perfetto/config/chrome/chrome_config.pbzero.cc",
    "external/perfetto/protos/perfetto/config/data_source_config.pbzero.cc",
    "external/perfetto/protos/perfetto/config/ftrace/ftrace_config.pbzero.cc",
    "external/perfetto/protos/perfetto/config/inode_file/inode_file_config.pbzero.cc",
    "external/perfetto/protos/perfetto/config/power/android_power_config.pbzero.cc",
    "external/perfetto/protos/perfetto/config/process_stats/process_stats_config.pbzero.cc",
    "external/perfetto/protos/perfetto/config/profiling/heapprofd_config.pbzero.cc",
    "external/perfetto/protos/perfetto/config/sys_stats/sys_stats_config.pbzero.cc",
    "external/perfetto/protos/perfetto/config/test_config.pbzero.cc",
    "external/perfetto/protos/perfetto/config/trace_config.pbzero.cc",
  ],
}

// GN target: //protos/perfetto/config:zero_gen
genrule {
  name: "perfetto_protos_perfetto_config_zero_gen_headers",
  srcs: [
    "protos/perfetto/config/android/android_log_config.proto",
    "protos/perfetto/config/android/packages_list_config.proto",
    "protos/perfetto/config/chrome/chrome_config.proto",
    "protos/perfetto/config/data_source_config.proto",
    "protos/perfetto/config/ftrace/ftrace_config.proto",
    "protos/perfetto/config/inode_file/inode_file_config.proto",
    "protos/perfetto/config/power/android_power_config.proto",
    "protos/perfetto/config/process_stats/process_stats_config.proto",
    "protos/perfetto/config/profiling/heapprofd_config.proto",
    "protos/perfetto/config/sys_stats/sys_stats_config.proto",
    "protos/perfetto/config/test_config.proto",
    "protos/perfetto/config/trace_config.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos --plugin=protoc-gen-plugin=$(location perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=wrapper_namespace=pbzero:$(genDir)/external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/config/android/android_log_config.pbzero.h",
    "external/perfetto/protos/perfetto/config/android/packages_list_config.pbzero.h",
    "external/perfetto/protos/perfetto/config/chrome/chrome_config.pbzero.h",
    "external/perfetto/protos/perfetto/config/data_source_config.pbzero.h",
    "external/perfetto/protos/perfetto/config/ftrace/ftrace_config.pbzero.h",
    "external/perfetto/protos/perfetto/config/inode_file/inode_file_config.pbzero.h",
    "external/perfetto/protos/perfetto/config/power/android_power_config.pbzero.h",
    "external/perfetto/protos/perfetto/config/process_stats/process_stats_config.pbzero.h",
    "external/perfetto/protos/perfetto/config/profiling/heapprofd_config.pbzero.h",
    "external/perfetto/protos/perfetto/config/sys_stats/sys_stats_config.pbzero.h",
    "external/perfetto/protos/perfetto/config/test_config.pbzero.h",
    "external/perfetto/protos/perfetto/config/trace_config.pbzero.h",
  ],
  export_include_dirs: [
    "protos",
  ],
}

// GN target: //protos/perfetto/ipc:ipc_gen
genrule {
  name: "perfetto_protos_perfetto_ipc_ipc_gen",
  srcs: [
    "protos/perfetto/ipc/consumer_port.proto",
    "protos/perfetto/ipc/producer_port.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_ipc_protoc_plugin_ipc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos --plugin=protoc-gen-plugin=$(location perfetto_src_ipc_protoc_plugin_ipc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=:$(genDir)/external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/ipc/consumer_port.ipc.cc",
    "external/perfetto/protos/perfetto/ipc/consumer_port.pb.cc",
    "external/perfetto/protos/perfetto/ipc/producer_port.ipc.cc",
    "external/perfetto/protos/perfetto/ipc/producer_port.pb.cc",
  ],
}

// GN target: //protos/perfetto/ipc:ipc_gen
genrule {
  name: "perfetto_protos_perfetto_ipc_ipc_gen_headers",
  srcs: [
    "protos/perfetto/ipc/consumer_port.proto",
    "protos/perfetto/ipc/producer_port.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_ipc_protoc_plugin_ipc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos --plugin=protoc-gen-plugin=$(location perfetto_src_ipc_protoc_plugin_ipc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=:$(genDir)/external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/ipc/consumer_port.ipc.h",
    "external/perfetto/protos/perfetto/ipc/consumer_port.pb.h",
    "external/perfetto/protos/perfetto/ipc/producer_port.ipc.h",
    "external/perfetto/protos/perfetto/ipc/producer_port.pb.h",
  ],
  export_include_dirs: [
    "protos",
  ],
}

// GN target: //protos/perfetto/metrics/android:zero_gen
genrule {
  name: "perfetto_protos_perfetto_metrics_android_zero_gen",
  srcs: [
    "protos/perfetto/metrics/android/mem_metric.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos --plugin=protoc-gen-plugin=$(location perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=wrapper_namespace=pbzero:$(genDir)/external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/metrics/android/mem_metric.pbzero.cc",
  ],
}

// GN target: //protos/perfetto/metrics/android:zero_gen
genrule {
  name: "perfetto_protos_perfetto_metrics_android_zero_gen_headers",
  srcs: [
    "protos/perfetto/metrics/android/mem_metric.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos --plugin=protoc-gen-plugin=$(location perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=wrapper_namespace=pbzero:$(genDir)/external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/metrics/android/mem_metric.pbzero.h",
  ],
  export_include_dirs: [
    "protos",
  ],
}

// GN target: //protos/perfetto/metrics:zero_gen
genrule {
  name: "perfetto_protos_perfetto_metrics_zero_gen",
  srcs: [
    "protos/perfetto/metrics/metrics.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos --plugin=protoc-gen-plugin=$(location perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=wrapper_namespace=pbzero:$(genDir)/external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/metrics/metrics.pbzero.cc",
  ],
}

// GN target: //protos/perfetto/metrics:zero_gen
genrule {
  name: "perfetto_protos_perfetto_metrics_zero_gen_headers",
  srcs: [
    "protos/perfetto/metrics/metrics.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos --plugin=protoc-gen-plugin=$(location perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=wrapper_namespace=pbzero:$(genDir)/external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/metrics/metrics.pbzero.h",
  ],
  export_include_dirs: [
    "protos",
  ],
}

// GN target: //protos/perfetto/trace/android:lite_gen
genrule {
  name: "perfetto_protos_perfetto_trace_android_lite_gen",
  srcs: [
    "protos/perfetto/trace/android/android_log.proto",
    "protos/perfetto/trace/android/packages_list.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/android/android_log.pb.cc",
    "external/perfetto/protos/perfetto/trace/android/packages_list.pb.cc",
  ],
}

// GN target: //protos/perfetto/trace/android:lite_gen
genrule {
  name: "perfetto_protos_perfetto_trace_android_lite_gen_headers",
  srcs: [
    "protos/perfetto/trace/android/android_log.proto",
    "protos/perfetto/trace/android/packages_list.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/android/android_log.pb.h",
    "external/perfetto/protos/perfetto/trace/android/packages_list.pb.h",
  ],
  export_include_dirs: [
    "protos",
  ],
}

// GN target: //protos/perfetto/trace/android:zero_gen
genrule {
  name: "perfetto_protos_perfetto_trace_android_zero_gen",
  srcs: [
    "protos/perfetto/trace/android/android_log.proto",
    "protos/perfetto/trace/android/packages_list.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos --plugin=protoc-gen-plugin=$(location perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=wrapper_namespace=pbzero:$(genDir)/external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/android/android_log.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/android/packages_list.pbzero.cc",
  ],
}

// GN target: //protos/perfetto/trace/android:zero_gen
genrule {
  name: "perfetto_protos_perfetto_trace_android_zero_gen_headers",
  srcs: [
    "protos/perfetto/trace/android/android_log.proto",
    "protos/perfetto/trace/android/packages_list.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos --plugin=protoc-gen-plugin=$(location perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=wrapper_namespace=pbzero:$(genDir)/external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/android/android_log.pbzero.h",
    "external/perfetto/protos/perfetto/trace/android/packages_list.pbzero.h",
  ],
  export_include_dirs: [
    "protos",
  ],
}

// GN target: //protos/perfetto/trace/chrome:lite_gen
genrule {
  name: "perfetto_protos_perfetto_trace_chrome_lite_gen",
  srcs: [
    "protos/perfetto/trace/chrome/chrome_trace_event.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/chrome/chrome_trace_event.pb.cc",
  ],
}

// GN target: //protos/perfetto/trace/chrome:lite_gen
genrule {
  name: "perfetto_protos_perfetto_trace_chrome_lite_gen_headers",
  srcs: [
    "protos/perfetto/trace/chrome/chrome_trace_event.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/chrome/chrome_trace_event.pb.h",
  ],
  export_include_dirs: [
    "protos",
  ],
}

// GN target: //protos/perfetto/trace/chrome:zero_gen
genrule {
  name: "perfetto_protos_perfetto_trace_chrome_zero_gen",
  srcs: [
    "protos/perfetto/trace/chrome/chrome_trace_event.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos --plugin=protoc-gen-plugin=$(location perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=wrapper_namespace=pbzero:$(genDir)/external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/chrome/chrome_trace_event.pbzero.cc",
  ],
}

// GN target: //protos/perfetto/trace/chrome:zero_gen
genrule {
  name: "perfetto_protos_perfetto_trace_chrome_zero_gen_headers",
  srcs: [
    "protos/perfetto/trace/chrome/chrome_trace_event.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos --plugin=protoc-gen-plugin=$(location perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=wrapper_namespace=pbzero:$(genDir)/external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/chrome/chrome_trace_event.pbzero.h",
  ],
  export_include_dirs: [
    "protos",
  ],
}

// GN target: //protos/perfetto/trace/filesystem:lite_gen
genrule {
  name: "perfetto_protos_perfetto_trace_filesystem_lite_gen",
  srcs: [
    "protos/perfetto/trace/filesystem/inode_file_map.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/filesystem/inode_file_map.pb.cc",
  ],
}

// GN target: //protos/perfetto/trace/filesystem:lite_gen
genrule {
  name: "perfetto_protos_perfetto_trace_filesystem_lite_gen_headers",
  srcs: [
    "protos/perfetto/trace/filesystem/inode_file_map.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/filesystem/inode_file_map.pb.h",
  ],
  export_include_dirs: [
    "protos",
  ],
}

// GN target: //protos/perfetto/trace/filesystem:zero_gen
genrule {
  name: "perfetto_protos_perfetto_trace_filesystem_zero_gen",
  srcs: [
    "protos/perfetto/trace/filesystem/inode_file_map.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos --plugin=protoc-gen-plugin=$(location perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=wrapper_namespace=pbzero:$(genDir)/external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/filesystem/inode_file_map.pbzero.cc",
  ],
}

// GN target: //protos/perfetto/trace/filesystem:zero_gen
genrule {
  name: "perfetto_protos_perfetto_trace_filesystem_zero_gen_headers",
  srcs: [
    "protos/perfetto/trace/filesystem/inode_file_map.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos --plugin=protoc-gen-plugin=$(location perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=wrapper_namespace=pbzero:$(genDir)/external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/filesystem/inode_file_map.pbzero.h",
  ],
  export_include_dirs: [
    "protos",
  ],
}

// GN target: //protos/perfetto/trace/ftrace:lite_gen
genrule {
  name: "perfetto_protos_perfetto_trace_ftrace_lite_gen",
  srcs: [
    "protos/perfetto/trace/ftrace/binder.proto",
    "protos/perfetto/trace/ftrace/block.proto",
    "protos/perfetto/trace/ftrace/cgroup.proto",
    "protos/perfetto/trace/ftrace/clk.proto",
    "protos/perfetto/trace/ftrace/compaction.proto",
    "protos/perfetto/trace/ftrace/ext4.proto",
    "protos/perfetto/trace/ftrace/f2fs.proto",
    "protos/perfetto/trace/ftrace/fence.proto",
    "protos/perfetto/trace/ftrace/filemap.proto",
    "protos/perfetto/trace/ftrace/ftrace.proto",
    "protos/perfetto/trace/ftrace/ftrace_event.proto",
    "protos/perfetto/trace/ftrace/ftrace_event_bundle.proto",
    "protos/perfetto/trace/ftrace/ftrace_stats.proto",
    "protos/perfetto/trace/ftrace/generic.proto",
    "protos/perfetto/trace/ftrace/i2c.proto",
    "protos/perfetto/trace/ftrace/ipi.proto",
    "protos/perfetto/trace/ftrace/irq.proto",
    "protos/perfetto/trace/ftrace/kmem.proto",
    "protos/perfetto/trace/ftrace/lowmemorykiller.proto",
    "protos/perfetto/trace/ftrace/mdss.proto",
    "protos/perfetto/trace/ftrace/mm_event.proto",
    "protos/perfetto/trace/ftrace/oom.proto",
    "protos/perfetto/trace/ftrace/power.proto",
    "protos/perfetto/trace/ftrace/raw_syscalls.proto",
    "protos/perfetto/trace/ftrace/regulator.proto",
    "protos/perfetto/trace/ftrace/sched.proto",
    "protos/perfetto/trace/ftrace/signal.proto",
    "protos/perfetto/trace/ftrace/sync.proto",
    "protos/perfetto/trace/ftrace/systrace.proto",
    "protos/perfetto/trace/ftrace/task.proto",
    "protos/perfetto/trace/ftrace/test_bundle_wrapper.proto",
    "protos/perfetto/trace/ftrace/vmscan.proto",
    "protos/perfetto/trace/ftrace/workqueue.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/ftrace/binder.pb.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/block.pb.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/cgroup.pb.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/clk.pb.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/compaction.pb.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/ext4.pb.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/f2fs.pb.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/fence.pb.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/filemap.pb.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/ftrace.pb.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/ftrace_event.pb.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/ftrace_event_bundle.pb.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/ftrace_stats.pb.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/generic.pb.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/i2c.pb.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/ipi.pb.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/irq.pb.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/kmem.pb.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/lowmemorykiller.pb.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/mdss.pb.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/mm_event.pb.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/oom.pb.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/power.pb.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/raw_syscalls.pb.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/regulator.pb.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/sched.pb.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/signal.pb.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/sync.pb.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/systrace.pb.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/task.pb.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/test_bundle_wrapper.pb.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/vmscan.pb.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/workqueue.pb.cc",
  ],
}

// GN target: //protos/perfetto/trace/ftrace:lite_gen
genrule {
  name: "perfetto_protos_perfetto_trace_ftrace_lite_gen_headers",
  srcs: [
    "protos/perfetto/trace/ftrace/binder.proto",
    "protos/perfetto/trace/ftrace/block.proto",
    "protos/perfetto/trace/ftrace/cgroup.proto",
    "protos/perfetto/trace/ftrace/clk.proto",
    "protos/perfetto/trace/ftrace/compaction.proto",
    "protos/perfetto/trace/ftrace/ext4.proto",
    "protos/perfetto/trace/ftrace/f2fs.proto",
    "protos/perfetto/trace/ftrace/fence.proto",
    "protos/perfetto/trace/ftrace/filemap.proto",
    "protos/perfetto/trace/ftrace/ftrace.proto",
    "protos/perfetto/trace/ftrace/ftrace_event.proto",
    "protos/perfetto/trace/ftrace/ftrace_event_bundle.proto",
    "protos/perfetto/trace/ftrace/ftrace_stats.proto",
    "protos/perfetto/trace/ftrace/generic.proto",
    "protos/perfetto/trace/ftrace/i2c.proto",
    "protos/perfetto/trace/ftrace/ipi.proto",
    "protos/perfetto/trace/ftrace/irq.proto",
    "protos/perfetto/trace/ftrace/kmem.proto",
    "protos/perfetto/trace/ftrace/lowmemorykiller.proto",
    "protos/perfetto/trace/ftrace/mdss.proto",
    "protos/perfetto/trace/ftrace/mm_event.proto",
    "protos/perfetto/trace/ftrace/oom.proto",
    "protos/perfetto/trace/ftrace/power.proto",
    "protos/perfetto/trace/ftrace/raw_syscalls.proto",
    "protos/perfetto/trace/ftrace/regulator.proto",
    "protos/perfetto/trace/ftrace/sched.proto",
    "protos/perfetto/trace/ftrace/signal.proto",
    "protos/perfetto/trace/ftrace/sync.proto",
    "protos/perfetto/trace/ftrace/systrace.proto",
    "protos/perfetto/trace/ftrace/task.proto",
    "protos/perfetto/trace/ftrace/test_bundle_wrapper.proto",
    "protos/perfetto/trace/ftrace/vmscan.proto",
    "protos/perfetto/trace/ftrace/workqueue.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/ftrace/binder.pb.h",
    "external/perfetto/protos/perfetto/trace/ftrace/block.pb.h",
    "external/perfetto/protos/perfetto/trace/ftrace/cgroup.pb.h",
    "external/perfetto/protos/perfetto/trace/ftrace/clk.pb.h",
    "external/perfetto/protos/perfetto/trace/ftrace/compaction.pb.h",
    "external/perfetto/protos/perfetto/trace/ftrace/ext4.pb.h",
    "external/perfetto/protos/perfetto/trace/ftrace/f2fs.pb.h",
    "external/perfetto/protos/perfetto/trace/ftrace/fence.pb.h",
    "external/perfetto/protos/perfetto/trace/ftrace/filemap.pb.h",
    "external/perfetto/protos/perfetto/trace/ftrace/ftrace.pb.h",
    "external/perfetto/protos/perfetto/trace/ftrace/ftrace_event.pb.h",
    "external/perfetto/protos/perfetto/trace/ftrace/ftrace_event_bundle.pb.h",
    "external/perfetto/protos/perfetto/trace/ftrace/ftrace_stats.pb.h",
    "external/perfetto/protos/perfetto/trace/ftrace/generic.pb.h",
    "external/perfetto/protos/perfetto/trace/ftrace/i2c.pb.h",
    "external/perfetto/protos/perfetto/trace/ftrace/ipi.pb.h",
    "external/perfetto/protos/perfetto/trace/ftrace/irq.pb.h",
    "external/perfetto/protos/perfetto/trace/ftrace/kmem.pb.h",
    "external/perfetto/protos/perfetto/trace/ftrace/lowmemorykiller.pb.h",
    "external/perfetto/protos/perfetto/trace/ftrace/mdss.pb.h",
    "external/perfetto/protos/perfetto/trace/ftrace/mm_event.pb.h",
    "external/perfetto/protos/perfetto/trace/ftrace/oom.pb.h",
    "external/perfetto/protos/perfetto/trace/ftrace/power.pb.h",
    "external/perfetto/protos/perfetto/trace/ftrace/raw_syscalls.pb.h",
    "external/perfetto/protos/perfetto/trace/ftrace/regulator.pb.h",
    "external/perfetto/protos/perfetto/trace/ftrace/sched.pb.h",
    "external/perfetto/protos/perfetto/trace/ftrace/signal.pb.h",
    "external/perfetto/protos/perfetto/trace/ftrace/sync.pb.h",
    "external/perfetto/protos/perfetto/trace/ftrace/systrace.pb.h",
    "external/perfetto/protos/perfetto/trace/ftrace/task.pb.h",
    "external/perfetto/protos/perfetto/trace/ftrace/test_bundle_wrapper.pb.h",
    "external/perfetto/protos/perfetto/trace/ftrace/vmscan.pb.h",
    "external/perfetto/protos/perfetto/trace/ftrace/workqueue.pb.h",
  ],
  export_include_dirs: [
    "protos",
  ],
}

// GN target: //protos/perfetto/trace/ftrace:zero_gen
genrule {
  name: "perfetto_protos_perfetto_trace_ftrace_zero_gen",
  srcs: [
    "protos/perfetto/trace/ftrace/binder.proto",
    "protos/perfetto/trace/ftrace/block.proto",
    "protos/perfetto/trace/ftrace/cgroup.proto",
    "protos/perfetto/trace/ftrace/clk.proto",
    "protos/perfetto/trace/ftrace/compaction.proto",
    "protos/perfetto/trace/ftrace/ext4.proto",
    "protos/perfetto/trace/ftrace/f2fs.proto",
    "protos/perfetto/trace/ftrace/fence.proto",
    "protos/perfetto/trace/ftrace/filemap.proto",
    "protos/perfetto/trace/ftrace/ftrace.proto",
    "protos/perfetto/trace/ftrace/ftrace_event.proto",
    "protos/perfetto/trace/ftrace/ftrace_event_bundle.proto",
    "protos/perfetto/trace/ftrace/ftrace_stats.proto",
    "protos/perfetto/trace/ftrace/generic.proto",
    "protos/perfetto/trace/ftrace/i2c.proto",
    "protos/perfetto/trace/ftrace/ipi.proto",
    "protos/perfetto/trace/ftrace/irq.proto",
    "protos/perfetto/trace/ftrace/kmem.proto",
    "protos/perfetto/trace/ftrace/lowmemorykiller.proto",
    "protos/perfetto/trace/ftrace/mdss.proto",
    "protos/perfetto/trace/ftrace/mm_event.proto",
    "protos/perfetto/trace/ftrace/oom.proto",
    "protos/perfetto/trace/ftrace/power.proto",
    "protos/perfetto/trace/ftrace/raw_syscalls.proto",
    "protos/perfetto/trace/ftrace/regulator.proto",
    "protos/perfetto/trace/ftrace/sched.proto",
    "protos/perfetto/trace/ftrace/signal.proto",
    "protos/perfetto/trace/ftrace/sync.proto",
    "protos/perfetto/trace/ftrace/systrace.proto",
    "protos/perfetto/trace/ftrace/task.proto",
    "protos/perfetto/trace/ftrace/test_bundle_wrapper.proto",
    "protos/perfetto/trace/ftrace/vmscan.proto",
    "protos/perfetto/trace/ftrace/workqueue.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos --plugin=protoc-gen-plugin=$(location perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=wrapper_namespace=pbzero:$(genDir)/external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/ftrace/binder.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/block.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/cgroup.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/clk.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/compaction.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/ext4.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/f2fs.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/fence.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/filemap.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/ftrace.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/ftrace_event.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/ftrace_event_bundle.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/ftrace_stats.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/generic.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/i2c.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/ipi.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/irq.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/kmem.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/lowmemorykiller.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/mdss.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/mm_event.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/oom.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/power.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/raw_syscalls.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/regulator.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/sched.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/signal.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/sync.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/systrace.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/task.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/test_bundle_wrapper.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/vmscan.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/ftrace/workqueue.pbzero.cc",
  ],
}

// GN target: //protos/perfetto/trace/ftrace:zero_gen
genrule {
  name: "perfetto_protos_perfetto_trace_ftrace_zero_gen_headers",
  srcs: [
    "protos/perfetto/trace/ftrace/binder.proto",
    "protos/perfetto/trace/ftrace/block.proto",
    "protos/perfetto/trace/ftrace/cgroup.proto",
    "protos/perfetto/trace/ftrace/clk.proto",
    "protos/perfetto/trace/ftrace/compaction.proto",
    "protos/perfetto/trace/ftrace/ext4.proto",
    "protos/perfetto/trace/ftrace/f2fs.proto",
    "protos/perfetto/trace/ftrace/fence.proto",
    "protos/perfetto/trace/ftrace/filemap.proto",
    "protos/perfetto/trace/ftrace/ftrace.proto",
    "protos/perfetto/trace/ftrace/ftrace_event.proto",
    "protos/perfetto/trace/ftrace/ftrace_event_bundle.proto",
    "protos/perfetto/trace/ftrace/ftrace_stats.proto",
    "protos/perfetto/trace/ftrace/generic.proto",
    "protos/perfetto/trace/ftrace/i2c.proto",
    "protos/perfetto/trace/ftrace/ipi.proto",
    "protos/perfetto/trace/ftrace/irq.proto",
    "protos/perfetto/trace/ftrace/kmem.proto",
    "protos/perfetto/trace/ftrace/lowmemorykiller.proto",
    "protos/perfetto/trace/ftrace/mdss.proto",
    "protos/perfetto/trace/ftrace/mm_event.proto",
    "protos/perfetto/trace/ftrace/oom.proto",
    "protos/perfetto/trace/ftrace/power.proto",
    "protos/perfetto/trace/ftrace/raw_syscalls.proto",
    "protos/perfetto/trace/ftrace/regulator.proto",
    "protos/perfetto/trace/ftrace/sched.proto",
    "protos/perfetto/trace/ftrace/signal.proto",
    "protos/perfetto/trace/ftrace/sync.proto",
    "protos/perfetto/trace/ftrace/systrace.proto",
    "protos/perfetto/trace/ftrace/task.proto",
    "protos/perfetto/trace/ftrace/test_bundle_wrapper.proto",
    "protos/perfetto/trace/ftrace/vmscan.proto",
    "protos/perfetto/trace/ftrace/workqueue.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos --plugin=protoc-gen-plugin=$(location perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=wrapper_namespace=pbzero:$(genDir)/external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/ftrace/binder.pbzero.h",
    "external/perfetto/protos/perfetto/trace/ftrace/block.pbzero.h",
    "external/perfetto/protos/perfetto/trace/ftrace/cgroup.pbzero.h",
    "external/perfetto/protos/perfetto/trace/ftrace/clk.pbzero.h",
    "external/perfetto/protos/perfetto/trace/ftrace/compaction.pbzero.h",
    "external/perfetto/protos/perfetto/trace/ftrace/ext4.pbzero.h",
    "external/perfetto/protos/perfetto/trace/ftrace/f2fs.pbzero.h",
    "external/perfetto/protos/perfetto/trace/ftrace/fence.pbzero.h",
    "external/perfetto/protos/perfetto/trace/ftrace/filemap.pbzero.h",
    "external/perfetto/protos/perfetto/trace/ftrace/ftrace.pbzero.h",
    "external/perfetto/protos/perfetto/trace/ftrace/ftrace_event.pbzero.h",
    "external/perfetto/protos/perfetto/trace/ftrace/ftrace_event_bundle.pbzero.h",
    "external/perfetto/protos/perfetto/trace/ftrace/ftrace_stats.pbzero.h",
    "external/perfetto/protos/perfetto/trace/ftrace/generic.pbzero.h",
    "external/perfetto/protos/perfetto/trace/ftrace/i2c.pbzero.h",
    "external/perfetto/protos/perfetto/trace/ftrace/ipi.pbzero.h",
    "external/perfetto/protos/perfetto/trace/ftrace/irq.pbzero.h",
    "external/perfetto/protos/perfetto/trace/ftrace/kmem.pbzero.h",
    "external/perfetto/protos/perfetto/trace/ftrace/lowmemorykiller.pbzero.h",
    "external/perfetto/protos/perfetto/trace/ftrace/mdss.pbzero.h",
    "external/perfetto/protos/perfetto/trace/ftrace/mm_event.pbzero.h",
    "external/perfetto/protos/perfetto/trace/ftrace/oom.pbzero.h",
    "external/perfetto/protos/perfetto/trace/ftrace/power.pbzero.h",
    "external/perfetto/protos/perfetto/trace/ftrace/raw_syscalls.pbzero.h",
    "external/perfetto/protos/perfetto/trace/ftrace/regulator.pbzero.h",
    "external/perfetto/protos/perfetto/trace/ftrace/sched.pbzero.h",
    "external/perfetto/protos/perfetto/trace/ftrace/signal.pbzero.h",
    "external/perfetto/protos/perfetto/trace/ftrace/sync.pbzero.h",
    "external/perfetto/protos/perfetto/trace/ftrace/systrace.pbzero.h",
    "external/perfetto/protos/perfetto/trace/ftrace/task.pbzero.h",
    "external/perfetto/protos/perfetto/trace/ftrace/test_bundle_wrapper.pbzero.h",
    "external/perfetto/protos/perfetto/trace/ftrace/vmscan.pbzero.h",
    "external/perfetto/protos/perfetto/trace/ftrace/workqueue.pbzero.h",
  ],
  export_include_dirs: [
    "protos",
  ],
}

// GN target: //protos/perfetto/trace/interned_data:lite_gen
genrule {
  name: "perfetto_protos_perfetto_trace_interned_data_lite_gen",
  srcs: [
    "protos/perfetto/trace/interned_data/interned_data.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/interned_data/interned_data.pb.cc",
  ],
}

// GN target: //protos/perfetto/trace/interned_data:lite_gen
genrule {
  name: "perfetto_protos_perfetto_trace_interned_data_lite_gen_headers",
  srcs: [
    "protos/perfetto/trace/interned_data/interned_data.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/interned_data/interned_data.pb.h",
  ],
  export_include_dirs: [
    "protos",
  ],
}

// GN target: //protos/perfetto/trace/interned_data:zero_gen
genrule {
  name: "perfetto_protos_perfetto_trace_interned_data_zero_gen",
  srcs: [
    "protos/perfetto/trace/interned_data/interned_data.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos --plugin=protoc-gen-plugin=$(location perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=wrapper_namespace=pbzero:$(genDir)/external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/interned_data/interned_data.pbzero.cc",
  ],
}

// GN target: //protos/perfetto/trace/interned_data:zero_gen
genrule {
  name: "perfetto_protos_perfetto_trace_interned_data_zero_gen_headers",
  srcs: [
    "protos/perfetto/trace/interned_data/interned_data.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos --plugin=protoc-gen-plugin=$(location perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=wrapper_namespace=pbzero:$(genDir)/external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/interned_data/interned_data.pbzero.h",
  ],
  export_include_dirs: [
    "protos",
  ],
}

// GN target: //protos/perfetto/trace:lite_gen
genrule {
  name: "perfetto_protos_perfetto_trace_lite_gen",
  srcs: [
    "protos/perfetto/trace/test_event.proto",
    "protos/perfetto/trace/trace.proto",
    "protos/perfetto/trace/trace_packet.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/test_event.pb.cc",
    "external/perfetto/protos/perfetto/trace/trace.pb.cc",
    "external/perfetto/protos/perfetto/trace/trace_packet.pb.cc",
  ],
}

// GN target: //protos/perfetto/trace:lite_gen
genrule {
  name: "perfetto_protos_perfetto_trace_lite_gen_headers",
  srcs: [
    "protos/perfetto/trace/test_event.proto",
    "protos/perfetto/trace/trace.proto",
    "protos/perfetto/trace/trace_packet.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/test_event.pb.h",
    "external/perfetto/protos/perfetto/trace/trace.pb.h",
    "external/perfetto/protos/perfetto/trace/trace_packet.pb.h",
  ],
  export_include_dirs: [
    "protos",
  ],
}

// GN target: //protos/perfetto/trace:minimal_lite_gen
genrule {
  name: "perfetto_protos_perfetto_trace_minimal_lite_gen",
  srcs: [
    "protos/perfetto/trace/clock_snapshot.proto",
    "protos/perfetto/trace/system_info.proto",
    "protos/perfetto/trace/trigger.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/clock_snapshot.pb.cc",
    "external/perfetto/protos/perfetto/trace/system_info.pb.cc",
    "external/perfetto/protos/perfetto/trace/trigger.pb.cc",
  ],
}

// GN target: //protos/perfetto/trace:minimal_lite_gen
genrule {
  name: "perfetto_protos_perfetto_trace_minimal_lite_gen_headers",
  srcs: [
    "protos/perfetto/trace/clock_snapshot.proto",
    "protos/perfetto/trace/system_info.proto",
    "protos/perfetto/trace/trigger.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/clock_snapshot.pb.h",
    "external/perfetto/protos/perfetto/trace/system_info.pb.h",
    "external/perfetto/protos/perfetto/trace/trigger.pb.h",
  ],
  export_include_dirs: [
    "protos",
  ],
}

// GN target: //protos/perfetto/trace/power:lite_gen
genrule {
  name: "perfetto_protos_perfetto_trace_power_lite_gen",
  srcs: [
    "protos/perfetto/trace/power/battery_counters.proto",
    "protos/perfetto/trace/power/power_rails.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/power/battery_counters.pb.cc",
    "external/perfetto/protos/perfetto/trace/power/power_rails.pb.cc",
  ],
}

// GN target: //protos/perfetto/trace/power:lite_gen
genrule {
  name: "perfetto_protos_perfetto_trace_power_lite_gen_headers",
  srcs: [
    "protos/perfetto/trace/power/battery_counters.proto",
    "protos/perfetto/trace/power/power_rails.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/power/battery_counters.pb.h",
    "external/perfetto/protos/perfetto/trace/power/power_rails.pb.h",
  ],
  export_include_dirs: [
    "protos",
  ],
}

// GN target: //protos/perfetto/trace/power:zero_gen
genrule {
  name: "perfetto_protos_perfetto_trace_power_zero_gen",
  srcs: [
    "protos/perfetto/trace/power/battery_counters.proto",
    "protos/perfetto/trace/power/power_rails.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos --plugin=protoc-gen-plugin=$(location perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=wrapper_namespace=pbzero:$(genDir)/external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/power/battery_counters.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/power/power_rails.pbzero.cc",
  ],
}

// GN target: //protos/perfetto/trace/power:zero_gen
genrule {
  name: "perfetto_protos_perfetto_trace_power_zero_gen_headers",
  srcs: [
    "protos/perfetto/trace/power/battery_counters.proto",
    "protos/perfetto/trace/power/power_rails.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos --plugin=protoc-gen-plugin=$(location perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=wrapper_namespace=pbzero:$(genDir)/external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/power/battery_counters.pbzero.h",
    "external/perfetto/protos/perfetto/trace/power/power_rails.pbzero.h",
  ],
  export_include_dirs: [
    "protos",
  ],
}

// GN target: //protos/perfetto/trace/profiling:lite_gen
genrule {
  name: "perfetto_protos_perfetto_trace_profiling_lite_gen",
  srcs: [
    "protos/perfetto/trace/profiling/profile_packet.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/profiling/profile_packet.pb.cc",
  ],
}

// GN target: //protos/perfetto/trace/profiling:lite_gen
genrule {
  name: "perfetto_protos_perfetto_trace_profiling_lite_gen_headers",
  srcs: [
    "protos/perfetto/trace/profiling/profile_packet.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/profiling/profile_packet.pb.h",
  ],
  export_include_dirs: [
    "protos",
  ],
}

// GN target: //protos/perfetto/trace/profiling:zero_gen
genrule {
  name: "perfetto_protos_perfetto_trace_profiling_zero_gen",
  srcs: [
    "protos/perfetto/trace/profiling/profile_packet.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos --plugin=protoc-gen-plugin=$(location perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=wrapper_namespace=pbzero:$(genDir)/external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/profiling/profile_packet.pbzero.cc",
  ],
}

// GN target: //protos/perfetto/trace/profiling:zero_gen
genrule {
  name: "perfetto_protos_perfetto_trace_profiling_zero_gen_headers",
  srcs: [
    "protos/perfetto/trace/profiling/profile_packet.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos --plugin=protoc-gen-plugin=$(location perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=wrapper_namespace=pbzero:$(genDir)/external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/profiling/profile_packet.pbzero.h",
  ],
  export_include_dirs: [
    "protos",
  ],
}

// GN target: //protos/perfetto/trace/ps:lite_gen
genrule {
  name: "perfetto_protos_perfetto_trace_ps_lite_gen",
  srcs: [
    "protos/perfetto/trace/ps/process_stats.proto",
    "protos/perfetto/trace/ps/process_tree.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/ps/process_stats.pb.cc",
    "external/perfetto/protos/perfetto/trace/ps/process_tree.pb.cc",
  ],
}

// GN target: //protos/perfetto/trace/ps:lite_gen
genrule {
  name: "perfetto_protos_perfetto_trace_ps_lite_gen_headers",
  srcs: [
    "protos/perfetto/trace/ps/process_stats.proto",
    "protos/perfetto/trace/ps/process_tree.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/ps/process_stats.pb.h",
    "external/perfetto/protos/perfetto/trace/ps/process_tree.pb.h",
  ],
  export_include_dirs: [
    "protos",
  ],
}

// GN target: //protos/perfetto/trace/ps:zero_gen
genrule {
  name: "perfetto_protos_perfetto_trace_ps_zero_gen",
  srcs: [
    "protos/perfetto/trace/ps/process_stats.proto",
    "protos/perfetto/trace/ps/process_tree.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos --plugin=protoc-gen-plugin=$(location perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=wrapper_namespace=pbzero:$(genDir)/external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/ps/process_stats.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/ps/process_tree.pbzero.cc",
  ],
}

// GN target: //protos/perfetto/trace/ps:zero_gen
genrule {
  name: "perfetto_protos_perfetto_trace_ps_zero_gen_headers",
  srcs: [
    "protos/perfetto/trace/ps/process_stats.proto",
    "protos/perfetto/trace/ps/process_tree.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos --plugin=protoc-gen-plugin=$(location perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=wrapper_namespace=pbzero:$(genDir)/external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/ps/process_stats.pbzero.h",
    "external/perfetto/protos/perfetto/trace/ps/process_tree.pbzero.h",
  ],
  export_include_dirs: [
    "protos",
  ],
}

// GN target: //protos/perfetto/trace/sys_stats:lite_gen
genrule {
  name: "perfetto_protos_perfetto_trace_sys_stats_lite_gen",
  srcs: [
    "protos/perfetto/trace/sys_stats/sys_stats.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/sys_stats/sys_stats.pb.cc",
  ],
}

// GN target: //protos/perfetto/trace/sys_stats:lite_gen
genrule {
  name: "perfetto_protos_perfetto_trace_sys_stats_lite_gen_headers",
  srcs: [
    "protos/perfetto/trace/sys_stats/sys_stats.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/sys_stats/sys_stats.pb.h",
  ],
  export_include_dirs: [
    "protos",
  ],
}

// GN target: //protos/perfetto/trace/sys_stats:zero_gen
genrule {
  name: "perfetto_protos_perfetto_trace_sys_stats_zero_gen",
  srcs: [
    "protos/perfetto/trace/sys_stats/sys_stats.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos --plugin=protoc-gen-plugin=$(location perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=wrapper_namespace=pbzero:$(genDir)/external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/sys_stats/sys_stats.pbzero.cc",
  ],
}

// GN target: //protos/perfetto/trace/sys_stats:zero_gen
genrule {
  name: "perfetto_protos_perfetto_trace_sys_stats_zero_gen_headers",
  srcs: [
    "protos/perfetto/trace/sys_stats/sys_stats.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos --plugin=protoc-gen-plugin=$(location perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=wrapper_namespace=pbzero:$(genDir)/external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/sys_stats/sys_stats.pbzero.h",
  ],
  export_include_dirs: [
    "protos",
  ],
}

// GN target: //protos/perfetto/trace/track_event:lite_gen
genrule {
  name: "perfetto_protos_perfetto_trace_track_event_lite_gen",
  srcs: [
    "protos/perfetto/trace/track_event/debug_annotation.proto",
    "protos/perfetto/trace/track_event/process_descriptor.proto",
    "protos/perfetto/trace/track_event/task_execution.proto",
    "protos/perfetto/trace/track_event/thread_descriptor.proto",
    "protos/perfetto/trace/track_event/track_event.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/track_event/debug_annotation.pb.cc",
    "external/perfetto/protos/perfetto/trace/track_event/process_descriptor.pb.cc",
    "external/perfetto/protos/perfetto/trace/track_event/task_execution.pb.cc",
    "external/perfetto/protos/perfetto/trace/track_event/thread_descriptor.pb.cc",
    "external/perfetto/protos/perfetto/trace/track_event/track_event.pb.cc",
  ],
}

// GN target: //protos/perfetto/trace/track_event:lite_gen
genrule {
  name: "perfetto_protos_perfetto_trace_track_event_lite_gen_headers",
  srcs: [
    "protos/perfetto/trace/track_event/debug_annotation.proto",
    "protos/perfetto/trace/track_event/process_descriptor.proto",
    "protos/perfetto/trace/track_event/task_execution.proto",
    "protos/perfetto/trace/track_event/thread_descriptor.proto",
    "protos/perfetto/trace/track_event/track_event.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/track_event/debug_annotation.pb.h",
    "external/perfetto/protos/perfetto/trace/track_event/process_descriptor.pb.h",
    "external/perfetto/protos/perfetto/trace/track_event/task_execution.pb.h",
    "external/perfetto/protos/perfetto/trace/track_event/thread_descriptor.pb.h",
    "external/perfetto/protos/perfetto/trace/track_event/track_event.pb.h",
  ],
  export_include_dirs: [
    "protos",
  ],
}

// GN target: //protos/perfetto/trace/track_event:zero_gen
genrule {
  name: "perfetto_protos_perfetto_trace_track_event_zero_gen",
  srcs: [
    "protos/perfetto/trace/track_event/debug_annotation.proto",
    "protos/perfetto/trace/track_event/process_descriptor.proto",
    "protos/perfetto/trace/track_event/task_execution.proto",
    "protos/perfetto/trace/track_event/thread_descriptor.proto",
    "protos/perfetto/trace/track_event/track_event.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos --plugin=protoc-gen-plugin=$(location perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=wrapper_namespace=pbzero:$(genDir)/external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/track_event/debug_annotation.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/track_event/process_descriptor.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/track_event/task_execution.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/track_event/thread_descriptor.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/track_event/track_event.pbzero.cc",
  ],
}

// GN target: //protos/perfetto/trace/track_event:zero_gen
genrule {
  name: "perfetto_protos_perfetto_trace_track_event_zero_gen_headers",
  srcs: [
    "protos/perfetto/trace/track_event/debug_annotation.proto",
    "protos/perfetto/trace/track_event/process_descriptor.proto",
    "protos/perfetto/trace/track_event/task_execution.proto",
    "protos/perfetto/trace/track_event/thread_descriptor.proto",
    "protos/perfetto/trace/track_event/track_event.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos --plugin=protoc-gen-plugin=$(location perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=wrapper_namespace=pbzero:$(genDir)/external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/track_event/debug_annotation.pbzero.h",
    "external/perfetto/protos/perfetto/trace/track_event/process_descriptor.pbzero.h",
    "external/perfetto/protos/perfetto/trace/track_event/task_execution.pbzero.h",
    "external/perfetto/protos/perfetto/trace/track_event/thread_descriptor.pbzero.h",
    "external/perfetto/protos/perfetto/trace/track_event/track_event.pbzero.h",
  ],
  export_include_dirs: [
    "protos",
  ],
}

// GN target: //protos/perfetto/trace:trusted_lite_gen
genrule {
  name: "perfetto_protos_perfetto_trace_trusted_lite_gen",
  srcs: [
    "protos/perfetto/trace/trusted_packet.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/trusted_packet.pb.cc",
  ],
}

// GN target: //protos/perfetto/trace:trusted_lite_gen
genrule {
  name: "perfetto_protos_perfetto_trace_trusted_lite_gen_headers",
  srcs: [
    "protos/perfetto/trace/trusted_packet.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/trusted_packet.pb.h",
  ],
  export_include_dirs: [
    "protos",
  ],
}

// GN target: //protos/perfetto/trace:zero_gen
genrule {
  name: "perfetto_protos_perfetto_trace_zero_gen",
  srcs: [
    "protos/perfetto/trace/clock_snapshot.proto",
    "protos/perfetto/trace/system_info.proto",
    "protos/perfetto/trace/test_event.proto",
    "protos/perfetto/trace/trace.proto",
    "protos/perfetto/trace/trace_packet.proto",
    "protos/perfetto/trace/trigger.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos --plugin=protoc-gen-plugin=$(location perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=wrapper_namespace=pbzero:$(genDir)/external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/clock_snapshot.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/system_info.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/test_event.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/trace.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/trace_packet.pbzero.cc",
    "external/perfetto/protos/perfetto/trace/trigger.pbzero.cc",
  ],
}

// GN target: //protos/perfetto/trace:zero_gen
genrule {
  name: "perfetto_protos_perfetto_trace_zero_gen_headers",
  srcs: [
    "protos/perfetto/trace/clock_snapshot.proto",
    "protos/perfetto/trace/system_info.proto",
    "protos/perfetto/trace/test_event.proto",
    "protos/perfetto/trace/trace.proto",
    "protos/perfetto/trace/trace_packet.proto",
    "protos/perfetto/trace/trigger.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos --plugin=protoc-gen-plugin=$(location perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=wrapper_namespace=pbzero:$(genDir)/external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/perfetto/trace/clock_snapshot.pbzero.h",
    "external/perfetto/protos/perfetto/trace/system_info.pbzero.h",
    "external/perfetto/protos/perfetto/trace/test_event.pbzero.h",
    "external/perfetto/protos/perfetto/trace/trace.pbzero.h",
    "external/perfetto/protos/perfetto/trace/trace_packet.pbzero.h",
    "external/perfetto/protos/perfetto/trace/trigger.pbzero.h",
  ],
  export_include_dirs: [
    "protos",
  ],
}

// GN target: //protos/third_party/pprof:lite_gen
genrule {
  name: "perfetto_protos_third_party_pprof_lite_gen",
  srcs: [
    "protos/third_party/pprof/profile.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/third_party/pprof/profile.pb.cc",
  ],
}

// GN target: //protos/third_party/pprof:lite_gen
genrule {
  name: "perfetto_protos_third_party_pprof_lite_gen_headers",
  srcs: [
    "protos/third_party/pprof/profile.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto/protos && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto/protos --proto_path=external/perfetto/protos $(in)",
  out: [
    "external/perfetto/protos/third_party/pprof/profile.pb.h",
  ],
  export_include_dirs: [
    "protos",
  ],
}

// GN target: //src/ipc/protoc_plugin:ipc_plugin(//gn/standalone/toolchain:gcc_like_host)
cc_binary_host {
  name: "perfetto_src_ipc_protoc_plugin_ipc_plugin___gn_standalone_toolchain_gcc_like_host_",
  srcs: [
    "src/ipc/protoc_plugin/ipc_generator.cc",
    "src/ipc/protoc_plugin/ipc_plugin.cc",
  ],
  shared_libs: [
    "libprotoc",
  ],
  defaults: [
    "perfetto_defaults",
  ],
  cflags: [
    "-DGOOGLE_PROTOBUF_NO_RTTI",
    "-DGOOGLE_PROTOBUF_NO_STATIC_INITIALIZER",
    "-DPERFETTO_BUILD_WITH_ANDROID",
  ],
}

// GN target: //src/ipc:test_messages_gen
genrule {
  name: "perfetto_src_ipc_test_messages_gen",
  srcs: [
    "src/ipc/test/client_unittest_messages.proto",
    "src/ipc/test/deferred_unittest_messages.proto",
    "src/ipc/test/greeter_service.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_ipc_protoc_plugin_ipc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto --proto_path=external/perfetto/ --plugin=protoc-gen-plugin=$(location perfetto_src_ipc_protoc_plugin_ipc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=:$(genDir)/external/perfetto $(in)",
  out: [
    "external/perfetto/src/ipc/test/client_unittest_messages.ipc.cc",
    "external/perfetto/src/ipc/test/client_unittest_messages.pb.cc",
    "external/perfetto/src/ipc/test/deferred_unittest_messages.ipc.cc",
    "external/perfetto/src/ipc/test/deferred_unittest_messages.pb.cc",
    "external/perfetto/src/ipc/test/greeter_service.ipc.cc",
    "external/perfetto/src/ipc/test/greeter_service.pb.cc",
  ],
}

// GN target: //src/ipc:test_messages_gen
genrule {
  name: "perfetto_src_ipc_test_messages_gen_headers",
  srcs: [
    "src/ipc/test/client_unittest_messages.proto",
    "src/ipc/test/deferred_unittest_messages.proto",
    "src/ipc/test/greeter_service.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_ipc_protoc_plugin_ipc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto --proto_path=external/perfetto/ --plugin=protoc-gen-plugin=$(location perfetto_src_ipc_protoc_plugin_ipc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=:$(genDir)/external/perfetto $(in)",
  out: [
    "external/perfetto/src/ipc/test/client_unittest_messages.ipc.h",
    "external/perfetto/src/ipc/test/client_unittest_messages.pb.h",
    "external/perfetto/src/ipc/test/deferred_unittest_messages.ipc.h",
    "external/perfetto/src/ipc/test/deferred_unittest_messages.pb.h",
    "external/perfetto/src/ipc/test/greeter_service.ipc.h",
    "external/perfetto/src/ipc/test/greeter_service.pb.h",
  ],
  export_include_dirs: [
    ".",
  ],
}

// GN target: //src/ipc:wire_protocol_gen
genrule {
  name: "perfetto_src_ipc_wire_protocol_gen",
  srcs: [
    "src/ipc/wire_protocol.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto --proto_path=external/perfetto/ $(in)",
  out: [
    "external/perfetto/src/ipc/wire_protocol.pb.cc",
  ],
}

// GN target: //src/ipc:wire_protocol_gen
genrule {
  name: "perfetto_src_ipc_wire_protocol_gen_headers",
  srcs: [
    "src/ipc/wire_protocol.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto --proto_path=external/perfetto/ $(in)",
  out: [
    "external/perfetto/src/ipc/wire_protocol.pb.h",
  ],
  export_include_dirs: [
    ".",
  ],
}

// GN target: //src/perfetto_cmd:protos_gen
genrule {
  name: "perfetto_src_perfetto_cmd_protos_gen",
  srcs: [
    "src/perfetto_cmd/perfetto_cmd_state.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto --proto_path=external/perfetto/ $(in)",
  out: [
    "external/perfetto/src/perfetto_cmd/perfetto_cmd_state.pb.cc",
  ],
}

// GN target: //src/perfetto_cmd:protos_gen
genrule {
  name: "perfetto_src_perfetto_cmd_protos_gen_headers",
  srcs: [
    "src/perfetto_cmd/perfetto_cmd_state.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto --proto_path=external/perfetto/ $(in)",
  out: [
    "external/perfetto/src/perfetto_cmd/perfetto_cmd_state.pb.h",
  ],
  export_include_dirs: [
    ".",
  ],
}

// GN target: //src/protozero/protoc_plugin:protoc_plugin(//gn/standalone/toolchain:gcc_like_host)
cc_binary_host {
  name: "perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_",
  srcs: [
    "src/protozero/protoc_plugin/protozero_generator.cc",
    "src/protozero/protoc_plugin/protozero_plugin.cc",
  ],
  shared_libs: [
    "libprotoc",
  ],
  defaults: [
    "perfetto_defaults",
  ],
  cflags: [
    "-DGOOGLE_PROTOBUF_NO_RTTI",
    "-DGOOGLE_PROTOBUF_NO_STATIC_INITIALIZER",
    "-DPERFETTO_BUILD_WITH_ANDROID",
  ],
}

// GN target: //src/protozero:testing_messages_lite_gen
genrule {
  name: "perfetto_src_protozero_testing_messages_lite_gen",
  srcs: [
    "src/protozero/test/example_proto/library.proto",
    "src/protozero/test/example_proto/library_internals/galaxies.proto",
    "src/protozero/test/example_proto/test_messages.proto",
    "src/protozero/test/example_proto/upper_import.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto --proto_path=external/perfetto/ $(in)",
  out: [
    "external/perfetto/src/protozero/test/example_proto/library.pb.cc",
    "external/perfetto/src/protozero/test/example_proto/library_internals/galaxies.pb.cc",
    "external/perfetto/src/protozero/test/example_proto/test_messages.pb.cc",
    "external/perfetto/src/protozero/test/example_proto/upper_import.pb.cc",
  ],
}

// GN target: //src/protozero:testing_messages_lite_gen
genrule {
  name: "perfetto_src_protozero_testing_messages_lite_gen_headers",
  srcs: [
    "src/protozero/test/example_proto/library.proto",
    "src/protozero/test/example_proto/library_internals/galaxies.proto",
    "src/protozero/test/example_proto/test_messages.proto",
    "src/protozero/test/example_proto/upper_import.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto --proto_path=external/perfetto/ $(in)",
  out: [
    "external/perfetto/src/protozero/test/example_proto/library.pb.h",
    "external/perfetto/src/protozero/test/example_proto/library_internals/galaxies.pb.h",
    "external/perfetto/src/protozero/test/example_proto/test_messages.pb.h",
    "external/perfetto/src/protozero/test/example_proto/upper_import.pb.h",
  ],
  export_include_dirs: [
    ".",
  ],
}

// GN target: //src/protozero:testing_messages_zero_gen
genrule {
  name: "perfetto_src_protozero_testing_messages_zero_gen",
  srcs: [
    "src/protozero/test/example_proto/library.proto",
    "src/protozero/test/example_proto/library_internals/galaxies.proto",
    "src/protozero/test/example_proto/test_messages.proto",
    "src/protozero/test/example_proto/upper_import.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto --proto_path=external/perfetto/ --plugin=protoc-gen-plugin=$(location perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=wrapper_namespace=pbzero:$(genDir)/external/perfetto $(in)",
  out: [
    "external/perfetto/src/protozero/test/example_proto/library.pbzero.cc",
    "external/perfetto/src/protozero/test/example_proto/library_internals/galaxies.pbzero.cc",
    "external/perfetto/src/protozero/test/example_proto/test_messages.pbzero.cc",
    "external/perfetto/src/protozero/test/example_proto/upper_import.pbzero.cc",
  ],
}

// GN target: //src/protozero:testing_messages_zero_gen
genrule {
  name: "perfetto_src_protozero_testing_messages_zero_gen_headers",
  srcs: [
    "src/protozero/test/example_proto/library.proto",
    "src/protozero/test/example_proto/library_internals/galaxies.proto",
    "src/protozero/test/example_proto/test_messages.proto",
    "src/protozero/test/example_proto/upper_import.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto --proto_path=external/perfetto/ --plugin=protoc-gen-plugin=$(location perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=wrapper_namespace=pbzero:$(genDir)/external/perfetto $(in)",
  out: [
    "external/perfetto/src/protozero/test/example_proto/library.pbzero.h",
    "external/perfetto/src/protozero/test/example_proto/library_internals/galaxies.pbzero.h",
    "external/perfetto/src/protozero/test/example_proto/test_messages.pbzero.h",
    "external/perfetto/src/protozero/test/example_proto/upper_import.pbzero.h",
  ],
  export_include_dirs: [
    ".",
  ],
}

// GN target: //src/traced/probes/ftrace:test_messages_lite_gen
genrule {
  name: "perfetto_src_traced_probes_ftrace_test_messages_lite_gen",
  srcs: [
    "src/traced/probes/ftrace/test/test_messages.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto --proto_path=external/perfetto/ $(in)",
  out: [
    "external/perfetto/src/traced/probes/ftrace/test/test_messages.pb.cc",
  ],
}

// GN target: //src/traced/probes/ftrace:test_messages_lite_gen
genrule {
  name: "perfetto_src_traced_probes_ftrace_test_messages_lite_gen_headers",
  srcs: [
    "src/traced/probes/ftrace/test/test_messages.proto",
  ],
  tools: [
    "aprotoc",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto --proto_path=external/perfetto/ $(in)",
  out: [
    "external/perfetto/src/traced/probes/ftrace/test/test_messages.pb.h",
  ],
  export_include_dirs: [
    ".",
  ],
}

// GN target: //src/traced/probes/ftrace:test_messages_zero_gen
genrule {
  name: "perfetto_src_traced_probes_ftrace_test_messages_zero_gen",
  srcs: [
    "src/traced/probes/ftrace/test/test_messages.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto --proto_path=external/perfetto/ --plugin=protoc-gen-plugin=$(location perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=wrapper_namespace=pbzero:$(genDir)/external/perfetto $(in)",
  out: [
    "external/perfetto/src/traced/probes/ftrace/test/test_messages.pbzero.cc",
  ],
}

// GN target: //src/traced/probes/ftrace:test_messages_zero_gen
genrule {
  name: "perfetto_src_traced_probes_ftrace_test_messages_zero_gen_headers",
  srcs: [
    "src/traced/probes/ftrace/test/test_messages.proto",
  ],
  tools: [
    "aprotoc",
    "perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_",
  ],
  cmd: "mkdir -p $(genDir)/external/perfetto && $(location aprotoc) --cpp_out=$(genDir)/external/perfetto --proto_path=external/perfetto/ --plugin=protoc-gen-plugin=$(location perfetto_src_protozero_protoc_plugin_protoc_plugin___gn_standalone_toolchain_gcc_like_host_) --plugin_out=wrapper_namespace=pbzero:$(genDir)/external/perfetto $(in)",
  out: [
    "external/perfetto/src/traced/probes/ftrace/test/test_messages.pbzero.h",
  ],
  export_include_dirs: [
    ".",
  ],
}

// GN target: //src/tracing:ipc
cc_library_static {
  name: "perfetto_src_tracing_ipc",
  srcs: [
    ":perfetto_protos_perfetto_common_lite_gen",
    ":perfetto_protos_perfetto_common_zero_gen",
    ":perfetto_protos_perfetto_config_lite_gen",
    ":perfetto_protos_perfetto_config_zero_gen",
    ":perfetto_protos_perfetto_ipc_ipc_gen",
    ":perfetto_protos_perfetto_trace_android_zero_gen",
    ":perfetto_protos_perfetto_trace_chrome_zero_gen",
    ":perfetto_protos_perfetto_trace_filesystem_zero_gen",
    ":perfetto_protos_perfetto_trace_ftrace_zero_gen",
    ":perfetto_protos_perfetto_trace_interned_data_zero_gen",
    ":perfetto_protos_perfetto_trace_minimal_lite_gen",
    ":perfetto_protos_perfetto_trace_power_zero_gen",
    ":perfetto_protos_perfetto_trace_profiling_zero_gen",
    ":perfetto_protos_perfetto_trace_ps_zero_gen",
    ":perfetto_protos_perfetto_trace_sys_stats_zero_gen",
    ":perfetto_protos_perfetto_trace_track_event_zero_gen",
    ":perfetto_protos_perfetto_trace_trusted_lite_gen",
    ":perfetto_protos_perfetto_trace_zero_gen",
    ":perfetto_src_ipc_wire_protocol_gen",
    "src/base/event.cc",
    "src/base/file_utils.cc",
    "src/base/metatrace.cc",
    "src/base/paged_memory.cc",
    "src/base/pipe.cc",
    "src/base/string_splitter.cc",
    "src/base/string_utils.cc",
    "src/base/string_view.cc",
    "src/base/temp_file.cc",
    "src/base/thread_checker.cc",
    "src/base/thread_task_runner.cc",
    "src/base/time.cc",
    "src/base/unix_socket.cc",
    "src/base/unix_task_runner.cc",
    "src/base/virtual_destructors.cc",
    "src/base/watchdog_posix.cc",
    "src/ipc/buffered_frame_deserializer.cc",
    "src/ipc/client_impl.cc",
    "src/ipc/deferred.cc",
    "src/ipc/host_impl.cc",
    "src/ipc/service_proxy.cc",
    "src/ipc/virtual_destructors.cc",
    "src/protozero/message.cc",
    "src/protozero/message_handle.cc",
    "src/protozero/proto_decoder.cc",
    "src/protozero/scattered_heap_buffer.cc",
    "src/protozero/scattered_stream_null_delegate.cc",
    "src/protozero/scattered_stream_writer.cc",
    "src/tracing/core/android_log_config.cc",
    "src/tracing/core/android_power_config.cc",
    "src/tracing/core/chrome_config.cc",
    "src/tracing/core/commit_data_request.cc",
    "src/tracing/core/data_source_config.cc",
    "src/tracing/core/data_source_descriptor.cc",
    "src/tracing/core/ftrace_config.cc",
    "src/tracing/core/heapprofd_config.cc",
    "src/tracing/core/id_allocator.cc",
    "src/tracing/core/inode_file_config.cc",
    "src/tracing/core/null_trace_writer.cc",
    "src/tracing/core/observable_events.cc",
    "src/tracing/core/packages_list_config.cc",
    "src/tracing/core/packet_stream_validator.cc",
    "src/tracing/core/process_stats_config.cc",
    "src/tracing/core/shared_memory_abi.cc",
    "src/tracing/core/shared_memory_arbiter_impl.cc",
    "src/tracing/core/sliced_protobuf_input_stream.cc",
    "src/tracing/core/startup_trace_writer.cc",
    "src/tracing/core/startup_trace_writer_registry.cc",
    "src/tracing/core/sys_stats_config.cc",
    "src/tracing/core/test_config.cc",
    "src/tracing/core/trace_buffer.cc",
    "src/tracing/core/trace_config.cc",
    "src/tracing/core/trace_packet.cc",
    "src/tracing/core/trace_stats.cc",
    "src/tracing/core/trace_writer_impl.cc",
    "src/tracing/core/tracing_service_impl.cc",
    "src/tracing/core/tracing_service_state.cc",
    "src/tracing/core/virtual_destructors.cc",
    "src/tracing/ipc/consumer/consumer_ipc_client_impl.cc",
    "src/tracing/ipc/default_socket.cc",
    "src/tracing/ipc/posix_shared_memory.cc",
    "src/tracing/ipc/producer/producer_ipc_client_impl.cc",
    "src/tracing/ipc/service/consumer_ipc_service.cc",
    "src/tracing/ipc/service/producer_ipc_service.cc",
    "src/tracing/ipc/service/service_ipc_host_impl.cc",
  ],
  shared_libs: [
    "libprotobuf-cpp-lite",
  ],
  static_libs: [
    "libgtest_prod",
  ],
  export_include_dirs: [
    "include",
  ],
  generated_headers: [
    "perfetto_protos_perfetto_common_lite_gen_headers",
    "perfetto_protos_perfetto_common_zero_gen_headers",
    "perfetto_protos_perfetto_config_lite_gen_headers",
    "perfetto_protos_perfetto_config_zero_gen_headers",
    "perfetto_protos_perfetto_ipc_ipc_gen_headers",
    "perfetto_protos_perfetto_trace_android_zero_gen_headers",
    "perfetto_protos_perfetto_trace_chrome_zero_gen_headers",
    "perfetto_protos_perfetto_trace_filesystem_zero_gen_headers",
    "perfetto_protos_perfetto_trace_ftrace_zero_gen_headers",
    "perfetto_protos_perfetto_trace_interned_data_zero_gen_headers",
    "perfetto_protos_perfetto_trace_minimal_lite_gen_headers",
    "perfetto_protos_perfetto_trace_power_zero_gen_headers",
    "perfetto_protos_perfetto_trace_profiling_zero_gen_headers",
    "perfetto_protos_perfetto_trace_ps_zero_gen_headers",
    "perfetto_protos_perfetto_trace_sys_stats_zero_gen_headers",
    "perfetto_protos_perfetto_trace_track_event_zero_gen_headers",
    "perfetto_protos_perfetto_trace_trusted_lite_gen_headers",
    "perfetto_protos_perfetto_trace_zero_gen_headers",
    "perfetto_src_ipc_wire_protocol_gen_headers",
  ],
  export_generated_headers: [
    "perfetto_protos_perfetto_common_lite_gen_headers",
    "perfetto_protos_perfetto_common_zero_gen_headers",
    "perfetto_protos_perfetto_config_lite_gen_headers",
    "perfetto_protos_perfetto_config_zero_gen_headers",
    "perfetto_protos_perfetto_ipc_ipc_gen_headers",
    "perfetto_protos_perfetto_trace_android_zero_gen_headers",
    "perfetto_protos_perfetto_trace_chrome_zero_gen_headers",
    "perfetto_protos_perfetto_trace_filesystem_zero_gen_headers",
    "perfetto_protos_perfetto_trace_ftrace_zero_gen_headers",
    "perfetto_protos_perfetto_trace_interned_data_zero_gen_headers",
    "perfetto_protos_perfetto_trace_minimal_lite_gen_headers",
    "perfetto_protos_perfetto_trace_power_zero_gen_headers",
    "perfetto_protos_perfetto_trace_profiling_zero_gen_headers",
    "perfetto_protos_perfetto_trace_ps_zero_gen_headers",
    "perfetto_protos_perfetto_trace_sys_stats_zero_gen_headers",
    "perfetto_protos_perfetto_trace_track_event_zero_gen_headers",
    "perfetto_protos_perfetto_trace_trusted_lite_gen_headers",
    "perfetto_protos_perfetto_trace_zero_gen_headers",
    "perfetto_src_ipc_wire_protocol_gen_headers",
  ],
  defaults: [
    "perfetto_defaults",
  ],
  cflags: [
    "-DGOOGLE_PROTOBUF_NO_RTTI",
    "-DGOOGLE_PROTOBUF_NO_STATIC_INITIALIZER",
    "-DPERFETTO_BUILD_WITH_ANDROID",
  ],
}

// GN target: //:perfetto_trace_protos
cc_library_static {
  name: "perfetto_trace_protos",
  srcs: [
    ":perfetto_protos_perfetto_common_lite_gen",
    ":perfetto_protos_perfetto_config_lite_gen",
    ":perfetto_protos_perfetto_trace_android_lite_gen",
    ":perfetto_protos_perfetto_trace_chrome_lite_gen",
    ":perfetto_protos_perfetto_trace_filesystem_lite_gen",
    ":perfetto_protos_perfetto_trace_ftrace_lite_gen",
    ":perfetto_protos_perfetto_trace_interned_data_lite_gen",
    ":perfetto_protos_perfetto_trace_lite_gen",
    ":perfetto_protos_perfetto_trace_minimal_lite_gen",
    ":perfetto_protos_perfetto_trace_power_lite_gen",
    ":perfetto_protos_perfetto_trace_profiling_lite_gen",
    ":perfetto_protos_perfetto_trace_ps_lite_gen",
    ":perfetto_protos_perfetto_trace_sys_stats_lite_gen",
    ":perfetto_protos_perfetto_trace_track_event_lite_gen",
  ],
  shared_libs: [
    "libprotobuf-cpp-lite",
  ],
  host_supported: true,
  export_include_dirs: [
    "include",
  ],
  generated_headers: [
    "perfetto_protos_perfetto_common_lite_gen_headers",
    "perfetto_protos_perfetto_config_lite_gen_headers",
    "perfetto_protos_perfetto_trace_android_lite_gen_headers",
    "perfetto_protos_perfetto_trace_chrome_lite_gen_headers",
    "perfetto_protos_perfetto_trace_filesystem_lite_gen_headers",
    "perfetto_protos_perfetto_trace_ftrace_lite_gen_headers",
    "perfetto_protos_perfetto_trace_interned_data_lite_gen_headers",
    "perfetto_protos_perfetto_trace_lite_gen_headers",
    "perfetto_protos_perfetto_trace_minimal_lite_gen_headers",
    "perfetto_protos_perfetto_trace_power_lite_gen_headers",
    "perfetto_protos_perfetto_trace_profiling_lite_gen_headers",
    "perfetto_protos_perfetto_trace_ps_lite_gen_headers",
    "perfetto_protos_perfetto_trace_sys_stats_lite_gen_headers",
    "perfetto_protos_perfetto_trace_track_event_lite_gen_headers",
  ],
  export_generated_headers: [
    "perfetto_protos_perfetto_common_lite_gen_headers",
    "perfetto_protos_perfetto_config_lite_gen_headers",
    "perfetto_protos_perfetto_trace_android_lite_gen_headers",
    "perfetto_protos_perfetto_trace_chrome_lite_gen_headers",
    "perfetto_protos_perfetto_trace_filesystem_lite_gen_headers",
    "perfetto_protos_perfetto_trace_ftrace_lite_gen_headers",
    "perfetto_protos_perfetto_trace_interned_data_lite_gen_headers",
    "perfetto_protos_perfetto_trace_lite_gen_headers",
    "perfetto_protos_perfetto_trace_minimal_lite_gen_headers",
    "perfetto_protos_perfetto_trace_power_lite_gen_headers",
    "perfetto_protos_perfetto_trace_profiling_lite_gen_headers",
    "perfetto_protos_perfetto_trace_ps_lite_gen_headers",
    "perfetto_protos_perfetto_trace_sys_stats_lite_gen_headers",
    "perfetto_protos_perfetto_trace_track_event_lite_gen_headers",
  ],
  defaults: [
    "perfetto_defaults",
  ],
  cflags: [
    "-DGOOGLE_PROTOBUF_NO_RTTI",
    "-DGOOGLE_PROTOBUF_NO_STATIC_INITIALIZER",
  ],
}

// GN target: //:perfetto_unittests
cc_test {
  name: "perfetto_unittests",
  srcs: [
    ":perfetto_protos_perfetto_common_lite_gen",
    ":perfetto_protos_perfetto_common_zero_gen",
    ":perfetto_protos_perfetto_config_lite_gen",
    ":perfetto_protos_perfetto_config_zero_gen",
    ":perfetto_protos_perfetto_ipc_ipc_gen",
    ":perfetto_protos_perfetto_trace_android_lite_gen",
    ":perfetto_protos_perfetto_trace_android_zero_gen",
    ":perfetto_protos_perfetto_trace_chrome_lite_gen",
    ":perfetto_protos_perfetto_trace_chrome_zero_gen",
    ":perfetto_protos_perfetto_trace_filesystem_lite_gen",
    ":perfetto_protos_perfetto_trace_filesystem_zero_gen",
    ":perfetto_protos_perfetto_trace_ftrace_lite_gen",
    ":perfetto_protos_perfetto_trace_ftrace_zero_gen",
    ":perfetto_protos_perfetto_trace_interned_data_lite_gen",
    ":perfetto_protos_perfetto_trace_interned_data_zero_gen",
    ":perfetto_protos_perfetto_trace_lite_gen",
    ":perfetto_protos_perfetto_trace_minimal_lite_gen",
    ":perfetto_protos_perfetto_trace_power_lite_gen",
    ":perfetto_protos_perfetto_trace_power_zero_gen",
    ":perfetto_protos_perfetto_trace_profiling_lite_gen",
    ":perfetto_protos_perfetto_trace_profiling_zero_gen",
    ":perfetto_protos_perfetto_trace_ps_lite_gen",
    ":perfetto_protos_perfetto_trace_ps_zero_gen",
    ":perfetto_protos_perfetto_trace_sys_stats_lite_gen",
    ":perfetto_protos_perfetto_trace_sys_stats_zero_gen",
    ":perfetto_protos_perfetto_trace_track_event_lite_gen",
    ":perfetto_protos_perfetto_trace_track_event_zero_gen",
    ":perfetto_protos_perfetto_trace_trusted_lite_gen",
    ":perfetto_protos_perfetto_trace_zero_gen",
    ":perfetto_src_ipc_test_messages_gen",
    ":perfetto_src_ipc_wire_protocol_gen",
    ":perfetto_src_perfetto_cmd_protos_gen",
    ":perfetto_src_protozero_testing_messages_lite_gen",
    ":perfetto_src_protozero_testing_messages_zero_gen",
    ":perfetto_src_traced_probes_ftrace_test_messages_lite_gen",
    ":perfetto_src_traced_probes_ftrace_test_messages_zero_gen",
    "src/android_internal/lazy_library_loader.cc",
    "src/base/android_task_runner.cc",
    "src/base/circular_queue_unittest.cc",
    "src/base/event.cc",
    "src/base/file_utils.cc",
    "src/base/metatrace.cc",
    "src/base/no_destructor_unittest.cc",
    "src/base/optional_unittest.cc",
    "src/base/paged_memory.cc",
    "src/base/paged_memory_unittest.cc",
    "src/base/pipe.cc",
    "src/base/scoped_file_unittest.cc",
    "src/base/string_splitter.cc",
    "src/base/string_splitter_unittest.cc",
    "src/base/string_utils.cc",
    "src/base/string_utils_unittest.cc",
    "src/base/string_view.cc",
    "src/base/string_view_unittest.cc",
    "src/base/string_writer_unittest.cc",
    "src/base/task_runner_unittest.cc",
    "src/base/temp_file.cc",
    "src/base/temp_file_unittest.cc",
    "src/base/test/test_task_runner.cc",
    "src/base/test/utils.cc",
    "src/base/test/vm_test_utils.cc",
    "src/base/thread_checker.cc",
    "src/base/thread_checker_unittest.cc",
    "src/base/thread_task_runner.cc",
    "src/base/thread_task_runner_unittest.cc",
    "src/base/time.cc",
    "src/base/time_unittest.cc",
    "src/base/unix_socket.cc",
    "src/base/unix_socket_unittest.cc",
    "src/base/unix_task_runner.cc",
    "src/base/utils_unittest.cc",
    "src/base/virtual_destructors.cc",
    "src/base/watchdog_posix.cc",
    "src/base/watchdog_unittest.cc",
    "src/base/weak_ptr_unittest.cc",
    "src/ipc/buffered_frame_deserializer.cc",
    "src/ipc/buffered_frame_deserializer_unittest.cc",
    "src/ipc/client_impl.cc",
    "src/ipc/client_impl_unittest.cc",
    "src/ipc/deferred.cc",
    "src/ipc/deferred_unittest.cc",
    "src/ipc/host_impl.cc",
    "src/ipc/host_impl_unittest.cc",
    "src/ipc/service_proxy.cc",
    "src/ipc/test/ipc_integrationtest.cc",
    "src/ipc/virtual_destructors.cc",
    "src/perfetto_cmd/config.cc",
    "src/perfetto_cmd/config_unittest.cc",
    "src/perfetto_cmd/packet_writer.cc",
    "src/perfetto_cmd/packet_writer_unittest.cc",
    "src/perfetto_cmd/pbtxt_to_pb.cc",
    "src/perfetto_cmd/pbtxt_to_pb_unittest.cc",
    "src/perfetto_cmd/perfetto_cmd.cc",
    "src/perfetto_cmd/rate_limiter.cc",
    "src/perfetto_cmd/rate_limiter_unittest.cc",
    "src/perfetto_cmd/trigger_producer.cc",
    "src/profiling/memory/bookkeeping.cc",
    "src/profiling/memory/bookkeeping_unittest.cc",
    "src/profiling/memory/client.cc",
    "src/profiling/memory/client_unittest.cc",
    "src/profiling/memory/heapprofd_producer.cc",
    "src/profiling/memory/heapprofd_producer_unittest.cc",
    "src/profiling/memory/interner_unittest.cc",
    "src/profiling/memory/proc_utils.cc",
    "src/profiling/memory/proc_utils_unittest.cc",
    "src/profiling/memory/sampler_unittest.cc",
    "src/profiling/memory/scoped_spinlock.cc",
    "src/profiling/memory/shared_ring_buffer.cc",
    "src/profiling/memory/shared_ring_buffer_unittest.cc",
    "src/profiling/memory/system_property.cc",
    "src/profiling/memory/system_property_unittest.cc",
    "src/profiling/memory/unwinding.cc",
    "src/profiling/memory/unwinding_unittest.cc",
    "src/profiling/memory/wire_protocol.cc",
    "src/profiling/memory/wire_protocol_unittest.cc",
    "src/protozero/message.cc",
    "src/protozero/message_handle.cc",
    "src/protozero/message_handle_unittest.cc",
    "src/protozero/message_unittest.cc",
    "src/protozero/proto_decoder.cc",
    "src/protozero/proto_decoder_unittest.cc",
    "src/protozero/proto_utils_unittest.cc",
    "src/protozero/scattered_heap_buffer.cc",
    "src/protozero/scattered_stream_null_delegate.cc",
    "src/protozero/scattered_stream_writer.cc",
    "src/protozero/scattered_stream_writer_unittest.cc",
    "src/protozero/test/fake_scattered_buffer.cc",
    "src/protozero/test/protozero_conformance_unittest.cc",
    "src/traced/probes/android_log/android_log_data_source.cc",
    "src/traced/probes/android_log/android_log_data_source_unittest.cc",
    "src/traced/probes/filesystem/file_scanner.cc",
    "src/traced/probes/filesystem/file_scanner_unittest.cc",
    "src/traced/probes/filesystem/fs_mount.cc",
    "src/traced/probes/filesystem/fs_mount_unittest.cc",
    "src/traced/probes/filesystem/inode_file_data_source.cc",
    "src/traced/probes/filesystem/inode_file_data_source_unittest.cc",
    "src/traced/probes/filesystem/lru_inode_cache.cc",
    "src/traced/probes/filesystem/lru_inode_cache_unittest.cc",
    "src/traced/probes/filesystem/prefix_finder.cc",
    "src/traced/probes/filesystem/prefix_finder_unittest.cc",
    "src/traced/probes/filesystem/range_tree.cc",
    "src/traced/probes/filesystem/range_tree_unittest.cc",
    "src/traced/probes/ftrace/atrace_hal_wrapper.cc",
    "src/traced/probes/ftrace/atrace_wrapper.cc",
    "src/traced/probes/ftrace/cpu_reader.cc",
    "src/traced/probes/ftrace/cpu_reader_unittest.cc",
    "src/traced/probes/ftrace/cpu_stats_parser.cc",
    "src/traced/probes/ftrace/cpu_stats_parser_unittest.cc",
    "src/traced/probes/ftrace/event_info.cc",
    "src/traced/probes/ftrace/event_info_constants.cc",
    "src/traced/probes/ftrace/event_info_unittest.cc",
    "src/traced/probes/ftrace/format_parser.cc",
    "src/traced/probes/ftrace/format_parser_unittest.cc",
    "src/traced/probes/ftrace/ftrace_config.cc",
    "src/traced/probes/ftrace/ftrace_config_muxer.cc",
    "src/traced/probes/ftrace/ftrace_config_muxer_unittest.cc",
    "src/traced/probes/ftrace/ftrace_config_unittest.cc",
    "src/traced/probes/ftrace/ftrace_controller.cc",
    "src/traced/probes/ftrace/ftrace_controller_unittest.cc",
    "src/traced/probes/ftrace/ftrace_data_source.cc",
    "src/traced/probes/ftrace/ftrace_metadata.cc",
    "src/traced/probes/ftrace/ftrace_procfs.cc",
    "src/traced/probes/ftrace/ftrace_procfs_unittest.cc",
    "src/traced/probes/ftrace/ftrace_stats.cc",
    "src/traced/probes/ftrace/page_pool.cc",
    "src/traced/probes/ftrace/page_pool_unittest.cc",
    "src/traced/probes/ftrace/proto_translation_table.cc",
    "src/traced/probes/ftrace/proto_translation_table_unittest.cc",
    "src/traced/probes/ftrace/test/cpu_reader_support.cc",
    "src/traced/probes/packages_list/packages_list_data_source.cc",
    "src/traced/probes/packages_list/packages_list_data_source_unittest.cc",
    "src/traced/probes/power/android_power_data_source.cc",
    "src/traced/probes/probes_data_source.cc",
    "src/traced/probes/probes_producer.cc",
    "src/traced/probes/ps/process_stats_data_source.cc",
    "src/traced/probes/ps/process_stats_data_source_unittest.cc",
    "src/traced/probes/sys_stats/sys_stats_data_source.cc",
    "src/traced/probes/sys_stats/sys_stats_data_source_unittest.cc",
    "src/traced/service/lazy_producer.cc",
    "src/traced/service/lazy_producer_unittest.cc",
    "src/traced/service/service.cc",
    "src/tracing/core/android_log_config.cc",
    "src/tracing/core/android_power_config.cc",
    "src/tracing/core/chrome_config.cc",
    "src/tracing/core/commit_data_request.cc",
    "src/tracing/core/data_source_config.cc",
    "src/tracing/core/data_source_descriptor.cc",
    "src/tracing/core/ftrace_config.cc",
    "src/tracing/core/heapprofd_config.cc",
    "src/tracing/core/id_allocator.cc",
    "src/tracing/core/id_allocator_unittest.cc",
    "src/tracing/core/inode_file_config.cc",
    "src/tracing/core/null_trace_writer.cc",
    "src/tracing/core/null_trace_writer_unittest.cc",
    "src/tracing/core/observable_events.cc",
    "src/tracing/core/packages_list_config.cc",
    "src/tracing/core/packet_stream_validator.cc",
    "src/tracing/core/packet_stream_validator_unittest.cc",
    "src/tracing/core/patch_list_unittest.cc",
    "src/tracing/core/process_stats_config.cc",
    "src/tracing/core/shared_memory_abi.cc",
    "src/tracing/core/shared_memory_abi_unittest.cc",
    "src/tracing/core/shared_memory_arbiter_impl.cc",
    "src/tracing/core/shared_memory_arbiter_impl_unittest.cc",
    "src/tracing/core/sliced_protobuf_input_stream.cc",
    "src/tracing/core/sliced_protobuf_input_stream_unittest.cc",
    "src/tracing/core/startup_trace_writer.cc",
    "src/tracing/core/startup_trace_writer_registry.cc",
    "src/tracing/core/startup_trace_writer_unittest.cc",
    "src/tracing/core/sys_stats_config.cc",
    "src/tracing/core/test_config.cc",
    "src/tracing/core/trace_buffer.cc",
    "src/tracing/core/trace_buffer_unittest.cc",
    "src/tracing/core/trace_config.cc",
    "src/tracing/core/trace_packet.cc",
    "src/tracing/core/trace_packet_unittest.cc",
    "src/tracing/core/trace_stats.cc",
    "src/tracing/core/trace_writer_for_testing.cc",
    "src/tracing/core/trace_writer_impl.cc",
    "src/tracing/core/trace_writer_impl_unittest.cc",
    "src/tracing/core/tracing_service_impl.cc",
    "src/tracing/core/tracing_service_impl_unittest.cc",
    "src/tracing/core/tracing_service_state.cc",
    "src/tracing/core/virtual_destructors.cc",
    "src/tracing/ipc/posix_shared_memory_unittest.cc",
    "src/tracing/test/aligned_buffer_test.cc",
    "src/tracing/test/fake_packet.cc",
    "src/tracing/test/mock_consumer.cc",
    "src/tracing/test/mock_producer.cc",
    "src/tracing/test/test_shared_memory.cc",
    "src/tracing/test/tracing_integration_test.cc",
    "tools/ftrace_proto_gen/ftrace_descriptor_gen.cc",
    "tools/ftrace_proto_gen/ftrace_proto_gen.cc",
    "tools/ftrace_proto_gen/ftrace_proto_gen_unittest.cc",
    "tools/ftrace_proto_gen/proto_gen_utils.cc",
    "tools/sanitizers_unittests/sanitizers_unittest.cc",
  ],
  shared_libs: [
    "libandroid",
    "libbase",
    "libbinder",
    "liblog",
    "libprocinfo",
    "libprotobuf-cpp-full",
    "libprotobuf-cpp-lite",
    "libservices",
    "libunwindstack",
    "libutils",
    "libz",
  ],
  static_libs: [
    "libgmock",
    "libgtest_prod",
    "perfetto_src_tracing_ipc",
  ],
  generated_headers: [
    "perfetto_protos_perfetto_common_lite_gen_headers",
    "perfetto_protos_perfetto_common_zero_gen_headers",
    "perfetto_protos_perfetto_config_lite_gen_headers",
    "perfetto_protos_perfetto_config_zero_gen_headers",
    "perfetto_protos_perfetto_ipc_ipc_gen_headers",
    "perfetto_protos_perfetto_trace_android_lite_gen_headers",
    "perfetto_protos_perfetto_trace_android_zero_gen_headers",
    "perfetto_protos_perfetto_trace_chrome_lite_gen_headers",
    "perfetto_protos_perfetto_trace_chrome_zero_gen_headers",
    "perfetto_protos_perfetto_trace_filesystem_lite_gen_headers",
    "perfetto_protos_perfetto_trace_filesystem_zero_gen_headers",
    "perfetto_protos_perfetto_trace_ftrace_lite_gen_headers",
    "perfetto_protos_perfetto_trace_ftrace_zero_gen_headers",
    "perfetto_protos_perfetto_trace_interned_data_lite_gen_headers",
    "perfetto_protos_perfetto_trace_interned_data_zero_gen_headers",
    "perfetto_protos_perfetto_trace_lite_gen_headers",
    "perfetto_protos_perfetto_trace_minimal_lite_gen_headers",
    "perfetto_protos_perfetto_trace_power_lite_gen_headers",
    "perfetto_protos_perfetto_trace_power_zero_gen_headers",
    "perfetto_protos_perfetto_trace_profiling_lite_gen_headers",
    "perfetto_protos_perfetto_trace_profiling_zero_gen_headers",
    "perfetto_protos_perfetto_trace_ps_lite_gen_headers",
    "perfetto_protos_perfetto_trace_ps_zero_gen_headers",
    "perfetto_protos_perfetto_trace_sys_stats_lite_gen_headers",
    "perfetto_protos_perfetto_trace_sys_stats_zero_gen_headers",
    "perfetto_protos_perfetto_trace_track_event_lite_gen_headers",
    "perfetto_protos_perfetto_trace_track_event_zero_gen_headers",
    "perfetto_protos_perfetto_trace_trusted_lite_gen_headers",
    "perfetto_protos_perfetto_trace_zero_gen_headers",
    "perfetto_src_ipc_test_messages_gen_headers",
    "perfetto_src_ipc_wire_protocol_gen_headers",
    "perfetto_src_perfetto_cmd_protos_gen_headers",
    "perfetto_src_protozero_testing_messages_lite_gen_headers",
    "perfetto_src_protozero_testing_messages_zero_gen_headers",
    "perfetto_src_traced_probes_ftrace_test_messages_lite_gen_headers",
    "perfetto_src_traced_probes_ftrace_test_messages_zero_gen_headers",
  ],
  defaults: [
    "perfetto_defaults",
  ],
  cflags: [
    "-DGOOGLE_PROTOBUF_NO_RTTI",
    "-DGOOGLE_PROTOBUF_NO_STATIC_INITIALIZER",
    "-DHAVE_HIDDEN",
    "-DPERFETTO_BUILD_WITH_ANDROID",
    "-DUSE_MMAP",
    "-DZLIB_CONST",
  ],
  product_variables: {
    pdk: {
      enabled: false,
    },
  },
}

// GN target: //:trace_to_text
cc_binary_host {
  name: "trace_to_text",
  srcs: [
    ":perfetto_protos_perfetto_common_lite_gen",
    ":perfetto_protos_perfetto_common_zero_gen",
    ":perfetto_protos_perfetto_config_lite_gen",
    ":perfetto_protos_perfetto_config_zero_gen",
    ":perfetto_protos_perfetto_metrics_android_zero_gen",
    ":perfetto_protos_perfetto_metrics_zero_gen",
    ":perfetto_protos_perfetto_trace_android_lite_gen",
    ":perfetto_protos_perfetto_trace_android_zero_gen",
    ":perfetto_protos_perfetto_trace_chrome_lite_gen",
    ":perfetto_protos_perfetto_trace_chrome_zero_gen",
    ":perfetto_protos_perfetto_trace_filesystem_lite_gen",
    ":perfetto_protos_perfetto_trace_filesystem_zero_gen",
    ":perfetto_protos_perfetto_trace_ftrace_lite_gen",
    ":perfetto_protos_perfetto_trace_ftrace_zero_gen",
    ":perfetto_protos_perfetto_trace_interned_data_lite_gen",
    ":perfetto_protos_perfetto_trace_interned_data_zero_gen",
    ":perfetto_protos_perfetto_trace_lite_gen",
    ":perfetto_protos_perfetto_trace_minimal_lite_gen",
    ":perfetto_protos_perfetto_trace_power_lite_gen",
    ":perfetto_protos_perfetto_trace_power_zero_gen",
    ":perfetto_protos_perfetto_trace_profiling_lite_gen",
    ":perfetto_protos_perfetto_trace_profiling_zero_gen",
    ":perfetto_protos_perfetto_trace_ps_lite_gen",
    ":perfetto_protos_perfetto_trace_ps_zero_gen",
    ":perfetto_protos_perfetto_trace_sys_stats_lite_gen",
    ":perfetto_protos_perfetto_trace_sys_stats_zero_gen",
    ":perfetto_protos_perfetto_trace_track_event_lite_gen",
    ":perfetto_protos_perfetto_trace_track_event_zero_gen",
    ":perfetto_protos_perfetto_trace_zero_gen",
    ":perfetto_protos_third_party_pprof_lite_gen",
    "src/base/event.cc",
    "src/base/file_utils.cc",
    "src/base/metatrace.cc",
    "src/base/paged_memory.cc",
    "src/base/pipe.cc",
    "src/base/string_splitter.cc",
    "src/base/string_utils.cc",
    "src/base/string_view.cc",
    "src/base/temp_file.cc",
    "src/base/thread_checker.cc",
    "src/base/thread_task_runner.cc",
    "src/base/time.cc",
    "src/base/unix_task_runner.cc",
    "src/base/virtual_destructors.cc",
    "src/base/watchdog_posix.cc",
    "src/protozero/message.cc",
    "src/protozero/message_handle.cc",
    "src/protozero/proto_decoder.cc",
    "src/protozero/scattered_heap_buffer.cc",
    "src/protozero/scattered_stream_null_delegate.cc",
    "src/protozero/scattered_stream_writer.cc",
    "src/trace_processor/android_logs_table.cc",
    "src/trace_processor/args_table.cc",
    "src/trace_processor/args_tracker.cc",
    "src/trace_processor/clock_tracker.cc",
    "src/trace_processor/counter_definitions_table.cc",
    "src/trace_processor/counter_values_table.cc",
    "src/trace_processor/event_tracker.cc",
    "src/trace_processor/filtered_row_index.cc",
    "src/trace_processor/ftrace_descriptors.cc",
    "src/trace_processor/ftrace_utils.cc",
    "src/trace_processor/fuchsia_provider_view.cc",
    "src/trace_processor/fuchsia_trace_parser.cc",
    "src/trace_processor/fuchsia_trace_tokenizer.cc",
    "src/trace_processor/fuchsia_trace_utils.cc",
    "src/trace_processor/heap_profile_tracker.cc",
    "src/trace_processor/instants_table.cc",
    "src/trace_processor/metrics/metrics.cc",
    "src/trace_processor/process_table.cc",
    "src/trace_processor/process_tracker.cc",
    "src/trace_processor/proto_trace_parser.cc",
    "src/trace_processor/proto_trace_tokenizer.cc",
    "src/trace_processor/query_constraints.cc",
    "src/trace_processor/raw_table.cc",
    "src/trace_processor/row_iterators.cc",
    "src/trace_processor/sched_slice_table.cc",
    "src/trace_processor/slice_table.cc",
    "src/trace_processor/slice_tracker.cc",
    "src/trace_processor/span_join_operator_table.cc",
    "src/trace_processor/sql_stats_table.cc",
    "src/trace_processor/sqlite3_str_split.cc",
    "src/trace_processor/stats_table.cc",
    "src/trace_processor/storage_columns.cc",
    "src/trace_processor/storage_schema.cc",
    "src/trace_processor/storage_table.cc",
    "src/trace_processor/string_pool.cc",
    "src/trace_processor/string_table.cc",
    "src/trace_processor/syscall_tracker.cc",
    "src/trace_processor/table.cc",
    "src/trace_processor/thread_table.cc",
    "src/trace_processor/trace_processor.cc",
    "src/trace_processor/trace_processor_context.cc",
    "src/trace_processor/trace_processor_impl.cc",
    "src/trace_processor/trace_sorter.cc",
    "src/trace_processor/trace_storage.cc",
    "src/trace_processor/virtual_destructors.cc",
    "src/trace_processor/window_operator_table.cc",
    "tools/trace_to_text/main.cc",
    "tools/trace_to_text/proto_full_utils.cc",
    "tools/trace_to_text/trace_to_profile.cc",
    "tools/trace_to_text/trace_to_systrace.cc",
    "tools/trace_to_text/trace_to_text.cc",
    "tools/trace_to_text/utils.cc",
  ],
  shared_libs: [
    "liblog",
    "libprotobuf-cpp-full",
    "libprotobuf-cpp-lite",
  ],
  static_libs: [
    "libgtest_prod",
    "libsqlite",
  ],
  generated_headers: [
    "gen_merged_sql_metrics",
    "perfetto_protos_perfetto_common_lite_gen_headers",
    "perfetto_protos_perfetto_common_zero_gen_headers",
    "perfetto_protos_perfetto_config_lite_gen_headers",
    "perfetto_protos_perfetto_config_zero_gen_headers",
    "perfetto_protos_perfetto_metrics_android_zero_gen_headers",
    "perfetto_protos_perfetto_metrics_zero_gen_headers",
    "perfetto_protos_perfetto_trace_android_lite_gen_headers",
    "perfetto_protos_perfetto_trace_android_zero_gen_headers",
    "perfetto_protos_perfetto_trace_chrome_lite_gen_headers",
    "perfetto_protos_perfetto_trace_chrome_zero_gen_headers",
    "perfetto_protos_perfetto_trace_filesystem_lite_gen_headers",
    "perfetto_protos_perfetto_trace_filesystem_zero_gen_headers",
    "perfetto_protos_perfetto_trace_ftrace_lite_gen_headers",
    "perfetto_protos_perfetto_trace_ftrace_zero_gen_headers",
    "perfetto_protos_perfetto_trace_interned_data_lite_gen_headers",
    "perfetto_protos_perfetto_trace_interned_data_zero_gen_headers",
    "perfetto_protos_perfetto_trace_lite_gen_headers",
    "perfetto_protos_perfetto_trace_minimal_lite_gen_headers",
    "perfetto_protos_perfetto_trace_power_lite_gen_headers",
    "perfetto_protos_perfetto_trace_power_zero_gen_headers",
    "perfetto_protos_perfetto_trace_profiling_lite_gen_headers",
    "perfetto_protos_perfetto_trace_profiling_zero_gen_headers",
    "perfetto_protos_perfetto_trace_ps_lite_gen_headers",
    "perfetto_protos_perfetto_trace_ps_zero_gen_headers",
    "perfetto_protos_perfetto_trace_sys_stats_lite_gen_headers",
    "perfetto_protos_perfetto_trace_sys_stats_zero_gen_headers",
    "perfetto_protos_perfetto_trace_track_event_lite_gen_headers",
    "perfetto_protos_perfetto_trace_track_event_zero_gen_headers",
    "perfetto_protos_perfetto_trace_zero_gen_headers",
    "perfetto_protos_third_party_pprof_lite_gen_headers",
  ],
  defaults: [
    "perfetto_defaults",
  ],
  cflags: [
    "-DGOOGLE_PROTOBUF_NO_RTTI",
    "-DGOOGLE_PROTOBUF_NO_STATIC_INITIALIZER",
    "-DPERFETTO_BUILD_WITH_ANDROID",
  ],
}

// GN target: //:traced
cc_binary {
  name: "traced",
  srcs: [
    "src/traced/service/main.cc",
  ],
  shared_libs: [
    "liblog",
    "libperfetto",
  ],
  init_rc: [
    "perfetto.rc",
  ],
  defaults: [
    "perfetto_defaults",
  ],
  cflags: [
    "-DPERFETTO_BUILD_WITH_ANDROID",
  ],
}

// GN target: //:traced_probes
cc_binary {
  name: "traced_probes",
  srcs: [
    "src/traced/probes/main.cc",
  ],
  shared_libs: [
    "liblog",
    "libperfetto",
  ],
  defaults: [
    "perfetto_defaults",
  ],
  cflags: [
    "-DPERFETTO_BUILD_WITH_ANDROID",
  ],
  required: [
    "libperfetto_android_internal",
    "trigger_perfetto",
  ],
}

// GN target: //:trigger_perfetto
cc_binary {
  name: "trigger_perfetto",
  srcs: [
    ":perfetto_protos_perfetto_common_lite_gen",
    ":perfetto_protos_perfetto_common_zero_gen",
    ":perfetto_protos_perfetto_config_lite_gen",
    ":perfetto_protos_perfetto_config_zero_gen",
    ":perfetto_protos_perfetto_ipc_ipc_gen",
    ":perfetto_protos_perfetto_trace_android_zero_gen",
    ":perfetto_protos_perfetto_trace_chrome_zero_gen",
    ":perfetto_protos_perfetto_trace_filesystem_zero_gen",
    ":perfetto_protos_perfetto_trace_ftrace_zero_gen",
    ":perfetto_protos_perfetto_trace_interned_data_zero_gen",
    ":perfetto_protos_perfetto_trace_minimal_lite_gen",
    ":perfetto_protos_perfetto_trace_power_zero_gen",
    ":perfetto_protos_perfetto_trace_profiling_zero_gen",
    ":perfetto_protos_perfetto_trace_ps_zero_gen",
    ":perfetto_protos_perfetto_trace_sys_stats_zero_gen",
    ":perfetto_protos_perfetto_trace_track_event_zero_gen",
    ":perfetto_protos_perfetto_trace_trusted_lite_gen",
    ":perfetto_protos_perfetto_trace_zero_gen",
    ":perfetto_src_ipc_wire_protocol_gen",
    ":perfetto_src_perfetto_cmd_protos_gen",
    "src/base/event.cc",
    "src/base/file_utils.cc",
    "src/base/metatrace.cc",
    "src/base/paged_memory.cc",
    "src/base/pipe.cc",
    "src/base/string_splitter.cc",
    "src/base/string_utils.cc",
    "src/base/string_view.cc",
    "src/base/temp_file.cc",
    "src/base/thread_checker.cc",
    "src/base/thread_task_runner.cc",
    "src/base/time.cc",
    "src/base/unix_socket.cc",
    "src/base/unix_task_runner.cc",
    "src/base/virtual_destructors.cc",
    "src/base/watchdog_posix.cc",
    "src/ipc/buffered_frame_deserializer.cc",
    "src/ipc/client_impl.cc",
    "src/ipc/deferred.cc",
    "src/ipc/host_impl.cc",
    "src/ipc/service_proxy.cc",
    "src/ipc/virtual_destructors.cc",
    "src/perfetto_cmd/trigger_perfetto.cc",
    "src/perfetto_cmd/trigger_perfetto_main.cc",
    "src/perfetto_cmd/trigger_producer.cc",
    "src/protozero/message.cc",
    "src/protozero/message_handle.cc",
    "src/protozero/proto_decoder.cc",
    "src/protozero/scattered_heap_buffer.cc",
    "src/protozero/scattered_stream_null_delegate.cc",
    "src/protozero/scattered_stream_writer.cc",
    "src/tracing/core/android_log_config.cc",
    "src/tracing/core/android_power_config.cc",
    "src/tracing/core/chrome_config.cc",
    "src/tracing/core/commit_data_request.cc",
    "src/tracing/core/data_source_config.cc",
    "src/tracing/core/data_source_descriptor.cc",
    "src/tracing/core/ftrace_config.cc",
    "src/tracing/core/heapprofd_config.cc",
    "src/tracing/core/id_allocator.cc",
    "src/tracing/core/inode_file_config.cc",
    "src/tracing/core/null_trace_writer.cc",
    "src/tracing/core/observable_events.cc",
    "src/tracing/core/packages_list_config.cc",
    "src/tracing/core/packet_stream_validator.cc",
    "src/tracing/core/process_stats_config.cc",
    "src/tracing/core/shared_memory_abi.cc",
    "src/tracing/core/shared_memory_arbiter_impl.cc",
    "src/tracing/core/sliced_protobuf_input_stream.cc",
    "src/tracing/core/startup_trace_writer.cc",
    "src/tracing/core/startup_trace_writer_registry.cc",
    "src/tracing/core/sys_stats_config.cc",
    "src/tracing/core/test_config.cc",
    "src/tracing/core/trace_buffer.cc",
    "src/tracing/core/trace_config.cc",
    "src/tracing/core/trace_packet.cc",
    "src/tracing/core/trace_stats.cc",
    "src/tracing/core/trace_writer_impl.cc",
    "src/tracing/core/tracing_service_impl.cc",
    "src/tracing/core/tracing_service_state.cc",
    "src/tracing/core/virtual_destructors.cc",
  ],
  shared_libs: [
    "liblog",
    "libprotobuf-cpp-lite",
  ],
  static_libs: [
    "libgtest_prod",
    "perfetto_src_tracing_ipc",
  ],
  generated_headers: [
    "perfetto_protos_perfetto_common_lite_gen_headers",
    "perfetto_protos_perfetto_common_zero_gen_headers",
    "perfetto_protos_perfetto_config_lite_gen_headers",
    "perfetto_protos_perfetto_config_zero_gen_headers",
    "perfetto_protos_perfetto_ipc_ipc_gen_headers",
    "perfetto_protos_perfetto_trace_android_zero_gen_headers",
    "perfetto_protos_perfetto_trace_chrome_zero_gen_headers",
    "perfetto_protos_perfetto_trace_filesystem_zero_gen_headers",
    "perfetto_protos_perfetto_trace_ftrace_zero_gen_headers",
    "perfetto_protos_perfetto_trace_interned_data_zero_gen_headers",
    "perfetto_protos_perfetto_trace_minimal_lite_gen_headers",
    "perfetto_protos_perfetto_trace_power_zero_gen_headers",
    "perfetto_protos_perfetto_trace_profiling_zero_gen_headers",
    "perfetto_protos_perfetto_trace_ps_zero_gen_headers",
    "perfetto_protos_perfetto_trace_sys_stats_zero_gen_headers",
    "perfetto_protos_perfetto_trace_track_event_zero_gen_headers",
    "perfetto_protos_perfetto_trace_trusted_lite_gen_headers",
    "perfetto_protos_perfetto_trace_zero_gen_headers",
    "perfetto_src_ipc_wire_protocol_gen_headers",
    "perfetto_src_perfetto_cmd_protos_gen_headers",
  ],
  defaults: [
    "perfetto_defaults",
  ],
  cflags: [
    "-DGOOGLE_PROTOBUF_NO_RTTI",
    "-DGOOGLE_PROTOBUF_NO_STATIC_INITIALIZER",
    "-DPERFETTO_BUILD_WITH_ANDROID",
  ],
}

// These targets are appended to the autogenerated Android.bp by tools/gen_android_bp.
cc_library_static {
  name: "perfetto_cts_deps",
  srcs: [
    "src/base/android_task_runner.cc",
    "src/base/test/test_task_runner.cc",
    "src/traced/probes/ftrace/cpu_reader.cc",
    "src/traced/probes/ftrace/event_info.cc",
    "src/traced/probes/ftrace/format_parser.cc",
    "src/traced/probes/ftrace/ftrace_controller.cc",
    "src/traced/probes/ftrace/ftrace_procfs.cc",
    "src/traced/probes/ftrace/proto_translation_table.cc",
    "src/traced/probes/probes_producer.cc",
    "test/end_to_end_integrationtest.cc",
    "test/fake_producer.cc",
    "test/task_runner_thread.cc",
    "test/test_helper.cc",
  ],
  export_include_dirs: [
    ".",
  ],
  shared_libs: [
    "libprotobuf-cpp-lite",
  ],
  static_libs: [
    "libgmock",
    "libgtest",
    "perfetto_src_tracing_ipc",
    "perfetto_trace_protos",
  ],
  cflags: [
    "-DPERFETTO_BUILD_WITH_ANDROID",
  ],
}

cc_library_static {
  name: "perfetto_cts_jni_deps",
  srcs: [
    "src/base/android_task_runner.cc",
    "src/base/test/test_task_runner.cc",
    "test/fake_producer.cc",
  ],
  shared_libs: [
    "libprotobuf-cpp-lite",
  ],
  export_include_dirs: [
    ".",
  ],
  static_libs: [
    "libgtest",
    "perfetto_src_tracing_ipc",
  ],
  cflags: [
    "-DPERFETTO_BUILD_WITH_ANDROID",
  ],
}

java_library_host {
  name: "perfetto_config-full",
  proto: {
      type: "full",
  },
  srcs: [
    "protos/perfetto/config/perfetto_config.proto",
  ],
}