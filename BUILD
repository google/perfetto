# Copyright (C) 2019 The Android Open Source Project
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
# This file is automatically generated by tools/gen_bazel. Do not edit.

package(default_visibility = ["//visibility:public"])

licenses(["notice"])  # Apache 2.0

exports_files(["LICENSE"])

# GN target: //src/trace_processor/metrics:gen_merged_sql_metrics
genrule(
    name = "gen_merged_sql_metrics",
    srcs = [
        "src/trace_processor/metrics/android/android_batt.sql",
        "src/trace_processor/metrics/android/android_cpu.sql",
        "src/trace_processor/metrics/android/android_cpu_agg.sql",
        "src/trace_processor/metrics/android/android_ion.sql",
        "src/trace_processor/metrics/android/android_lmk.sql",
        "src/trace_processor/metrics/android/android_mem.sql",
        "src/trace_processor/metrics/android/android_mem_unagg.sql",
        "src/trace_processor/metrics/android/android_package_list.sql",
        "src/trace_processor/metrics/android/android_powrails.sql",
        "src/trace_processor/metrics/android/android_process_growth.sql",
        "src/trace_processor/metrics/android/android_startup.sql",
        "src/trace_processor/metrics/android/android_startup_cpu.sql",
        "src/trace_processor/metrics/android/android_startup_launches.sql",
        "src/trace_processor/metrics/android/android_task_state.sql",
        "src/trace_processor/metrics/android/heap_profile_callsite_stats.sql",
        "src/trace_processor/metrics/android/mem_stats_priority_breakdown.sql",
        "src/trace_processor/metrics/android/process_mem.sql",
        "src/trace_processor/metrics/android/process_unagg_mem_view.sql",
        "src/trace_processor/metrics/android/span_view_stats.sql",
        "src/trace_processor/metrics/android/upid_span_view.sql",
        "src/trace_processor/metrics/trace_metadata.sql",
    ],
    outs = [
        "src/trace_processor/metrics/sql_metrics.h",
    ],
    cmd = "$(location gen_merged_sql_metrics_py) --cpp_out=$@ $(SRCS)",
    tools = [
        "gen_merged_sql_metrics_py",
    ],
)

# GN target: //tools/trace_to_text:libpprofbuilder
cc_library(
    name = "libpprofbuilder",
    srcs = [
        "src/base/event_fd.cc",
        "src/base/file_utils.cc",
        "src/base/metatrace.cc",
        "src/base/paged_memory.cc",
        "src/base/pipe.cc",
        "src/base/string_splitter.cc",
        "src/base/string_utils.cc",
        "src/base/string_view.cc",
        "src/base/temp_file.cc",
        "src/base/thread_checker.cc",
        "src/base/thread_task_runner.cc",
        "src/base/time.cc",
        "src/base/unix_task_runner.cc",
        "src/base/uuid.cc",
        "src/base/virtual_destructors.cc",
        "src/base/waitable_event.cc",
        "src/base/watchdog_posix.cc",
        "src/protozero/message.cc",
        "src/protozero/message_handle.cc",
        "src/protozero/proto_decoder.cc",
        "src/protozero/scattered_heap_buffer.cc",
        "src/protozero/scattered_stream_null_delegate.cc",
        "src/protozero/scattered_stream_writer.cc",
        "tools/trace_to_text/pprof_builder.cc",
        "tools/trace_to_text/profile_visitor.cc",
        "tools/trace_to_text/profile_visitor.h",
        "tools/trace_to_text/symbolizer.cc",
        "tools/trace_to_text/trace_symbol_table.cc",
        "tools/trace_to_text/trace_symbol_table.h",
        "tools/trace_to_text/utils.cc",
        "tools/trace_to_text/utils.h",
    ],
    hdrs = [
        "include/perfetto/base/build_config.h",
        "include/perfetto/base/compiler.h",
        "include/perfetto/base/copyable_ptr.h",
        "include/perfetto/base/export.h",
        "include/perfetto/base/logging.h",
        "include/perfetto/base/task_runner.h",
        "include/perfetto/base/time.h",
        "include/perfetto/ext/base/circular_queue.h",
        "include/perfetto/ext/base/container_annotations.h",
        "include/perfetto/ext/base/event_fd.h",
        "include/perfetto/ext/base/file_utils.h",
        "include/perfetto/ext/base/hash.h",
        "include/perfetto/ext/base/lookup_set.h",
        "include/perfetto/ext/base/metatrace.h",
        "include/perfetto/ext/base/metatrace_events.h",
        "include/perfetto/ext/base/no_destructor.h",
        "include/perfetto/ext/base/optional.h",
        "include/perfetto/ext/base/paged_memory.h",
        "include/perfetto/ext/base/pipe.h",
        "include/perfetto/ext/base/proc_utils.h",
        "include/perfetto/ext/base/scoped_file.h",
        "include/perfetto/ext/base/small_set.h",
        "include/perfetto/ext/base/string_splitter.h",
        "include/perfetto/ext/base/string_utils.h",
        "include/perfetto/ext/base/string_view.h",
        "include/perfetto/ext/base/string_writer.h",
        "include/perfetto/ext/base/temp_file.h",
        "include/perfetto/ext/base/thread_annotations.h",
        "include/perfetto/ext/base/thread_checker.h",
        "include/perfetto/ext/base/thread_task_runner.h",
        "include/perfetto/ext/base/thread_utils.h",
        "include/perfetto/ext/base/unix_socket.h",
        "include/perfetto/ext/base/unix_task_runner.h",
        "include/perfetto/ext/base/utils.h",
        "include/perfetto/ext/base/uuid.h",
        "include/perfetto/ext/base/waitable_event.h",
        "include/perfetto/ext/base/watchdog.h",
        "include/perfetto/ext/base/watchdog_noop.h",
        "include/perfetto/ext/base/watchdog_posix.h",
        "include/perfetto/ext/base/weak_ptr.h",
        "include/perfetto/ext/traced/sys_stats_counters.h",
        "include/perfetto/protozero/contiguous_memory_range.h",
        "include/perfetto/protozero/field.h",
        "include/perfetto/protozero/message.h",
        "include/perfetto/protozero/message_handle.h",
        "include/perfetto/protozero/proto_decoder.h",
        "include/perfetto/protozero/proto_utils.h",
        "include/perfetto/protozero/scattered_heap_buffer.h",
        "include/perfetto/protozero/scattered_stream_null_delegate.h",
        "include/perfetto/protozero/scattered_stream_writer.h",
        "tools/trace_to_text/pprof_builder.h",
        "tools/trace_to_text/symbolizer.h",
    ],
    deps = [
        "//third_party/perfetto/protos:common_cc_proto",
        "//third_party/perfetto/protos:common_zero_cc_proto",
        "//third_party/perfetto/protos:config_android_cc_proto",
        "//third_party/perfetto/protos:config_android_zero_cc_proto",
        "//third_party/perfetto/protos:config_cc_proto",
        "//third_party/perfetto/protos:config_ftrace_cc_proto",
        "//third_party/perfetto/protos:config_ftrace_zero_cc_proto",
        "//third_party/perfetto/protos:config_gpu_cc_proto",
        "//third_party/perfetto/protos:config_gpu_zero_cc_proto",
        "//third_party/perfetto/protos:config_inode_file_cc_proto",
        "//third_party/perfetto/protos:config_inode_file_zero_cc_proto",
        "//third_party/perfetto/protos:config_power_cc_proto",
        "//third_party/perfetto/protos:config_power_zero_cc_proto",
        "//third_party/perfetto/protos:config_process_stats_cc_proto",
        "//third_party/perfetto/protos:config_process_stats_zero_cc_proto",
        "//third_party/perfetto/protos:config_profiling_cc_proto",
        "//third_party/perfetto/protos:config_profiling_zero_cc_proto",
        "//third_party/perfetto/protos:config_sys_stats_cc_proto",
        "//third_party/perfetto/protos:config_sys_stats_zero_cc_proto",
        "//third_party/perfetto/protos:config_zero_cc_proto",
        "//third_party/perfetto/protos:protos_third_party_pprof_cc_proto",
        "//third_party/perfetto/protos:trace_android_cc_proto",
        "//third_party/perfetto/protos:trace_android_zero_cc_proto",
        "//third_party/perfetto/protos:trace_chrome_cc_proto",
        "//third_party/perfetto/protos:trace_chrome_zero_cc_proto",
        "//third_party/perfetto/protos:trace_filesystem_cc_proto",
        "//third_party/perfetto/protos:trace_filesystem_zero_cc_proto",
        "//third_party/perfetto/protos:trace_ftrace_cc_proto",
        "//third_party/perfetto/protos:trace_ftrace_zero_cc_proto",
        "//third_party/perfetto/protos:trace_gpu_cc_proto",
        "//third_party/perfetto/protos:trace_gpu_zero_cc_proto",
        "//third_party/perfetto/protos:trace_interned_data_cc_proto",
        "//third_party/perfetto/protos:trace_interned_data_zero_cc_proto",
        "//third_party/perfetto/protos:trace_minimal_cc_proto",
        "//third_party/perfetto/protos:trace_minimal_zero_cc_proto",
        "//third_party/perfetto/protos:trace_non_minimal_cc_proto",
        "//third_party/perfetto/protos:trace_non_minimal_zero_cc_proto",
        "//third_party/perfetto/protos:trace_perfetto_cc_proto",
        "//third_party/perfetto/protos:trace_perfetto_zero_cc_proto",
        "//third_party/perfetto/protos:trace_power_cc_proto",
        "//third_party/perfetto/protos:trace_power_zero_cc_proto",
        "//third_party/perfetto/protos:trace_profiling_cc_proto",
        "//third_party/perfetto/protos:trace_profiling_zero_cc_proto",
        "//third_party/perfetto/protos:trace_ps_cc_proto",
        "//third_party/perfetto/protos:trace_ps_zero_cc_proto",
        "//third_party/perfetto/protos:trace_sys_stats_cc_proto",
        "//third_party/perfetto/protos:trace_sys_stats_zero_cc_proto",
        "//third_party/perfetto/protos:trace_track_event_cc_proto",
        "//third_party/perfetto/protos:trace_track_event_zero_cc_proto",
    ],
)

# GN target: //src/protozero:libprotozero
cc_library(
    name = "libprotozero",
    srcs = [
        "src/protozero/message.cc",
        "src/protozero/message_handle.cc",
        "src/protozero/proto_decoder.cc",
        "src/protozero/scattered_heap_buffer.cc",
        "src/protozero/scattered_stream_null_delegate.cc",
        "src/protozero/scattered_stream_writer.cc",
    ],
    hdrs = [
        "include/perfetto/base/build_config.h",
        "include/perfetto/base/compiler.h",
        "include/perfetto/base/copyable_ptr.h",
        "include/perfetto/base/export.h",
        "include/perfetto/base/logging.h",
        "include/perfetto/base/task_runner.h",
        "include/perfetto/base/time.h",
        "include/perfetto/ext/base/circular_queue.h",
        "include/perfetto/ext/base/container_annotations.h",
        "include/perfetto/ext/base/event_fd.h",
        "include/perfetto/ext/base/file_utils.h",
        "include/perfetto/ext/base/hash.h",
        "include/perfetto/ext/base/lookup_set.h",
        "include/perfetto/ext/base/metatrace.h",
        "include/perfetto/ext/base/metatrace_events.h",
        "include/perfetto/ext/base/no_destructor.h",
        "include/perfetto/ext/base/optional.h",
        "include/perfetto/ext/base/paged_memory.h",
        "include/perfetto/ext/base/pipe.h",
        "include/perfetto/ext/base/proc_utils.h",
        "include/perfetto/ext/base/scoped_file.h",
        "include/perfetto/ext/base/small_set.h",
        "include/perfetto/ext/base/string_splitter.h",
        "include/perfetto/ext/base/string_utils.h",
        "include/perfetto/ext/base/string_view.h",
        "include/perfetto/ext/base/string_writer.h",
        "include/perfetto/ext/base/temp_file.h",
        "include/perfetto/ext/base/thread_annotations.h",
        "include/perfetto/ext/base/thread_checker.h",
        "include/perfetto/ext/base/thread_task_runner.h",
        "include/perfetto/ext/base/thread_utils.h",
        "include/perfetto/ext/base/unix_socket.h",
        "include/perfetto/ext/base/unix_task_runner.h",
        "include/perfetto/ext/base/utils.h",
        "include/perfetto/ext/base/uuid.h",
        "include/perfetto/ext/base/waitable_event.h",
        "include/perfetto/ext/base/watchdog.h",
        "include/perfetto/ext/base/watchdog_noop.h",
        "include/perfetto/ext/base/watchdog_posix.h",
        "include/perfetto/ext/base/weak_ptr.h",
        "include/perfetto/protozero/contiguous_memory_range.h",
        "include/perfetto/protozero/field.h",
        "include/perfetto/protozero/message.h",
        "include/perfetto/protozero/message_handle.h",
        "include/perfetto/protozero/proto_decoder.h",
        "include/perfetto/protozero/proto_utils.h",
        "include/perfetto/protozero/scattered_heap_buffer.h",
        "include/perfetto/protozero/scattered_stream_null_delegate.h",
        "include/perfetto/protozero/scattered_stream_writer.h",
    ],
)

# GN target: //src/protozero/protoc_plugin:protozero_plugin
cc_binary(
    name = "src_protozero_protoc_plugin_protozero_plugin",
    srcs = [
        "src/protozero/protoc_plugin/protozero_plugin.cc",
    ],
    deps = [
        "//third_party/protobuf:libprotoc_legacy",
        "//third_party/protobuf:protobuf_legacy",
    ],
)

# GN target: //src/trace_processor:trace_processor
cc_library(
    name = "trace_processor",
    srcs = [
        "src/base/event_fd.cc",
        "src/base/file_utils.cc",
        "src/base/metatrace.cc",
        "src/base/paged_memory.cc",
        "src/base/pipe.cc",
        "src/base/string_splitter.cc",
        "src/base/string_utils.cc",
        "src/base/string_view.cc",
        "src/base/temp_file.cc",
        "src/base/thread_checker.cc",
        "src/base/thread_task_runner.cc",
        "src/base/time.cc",
        "src/base/unix_task_runner.cc",
        "src/base/uuid.cc",
        "src/base/virtual_destructors.cc",
        "src/base/waitable_event.cc",
        "src/base/watchdog_posix.cc",
        "src/protozero/message.cc",
        "src/protozero/message_handle.cc",
        "src/protozero/proto_decoder.cc",
        "src/protozero/scattered_heap_buffer.cc",
        "src/protozero/scattered_stream_null_delegate.cc",
        "src/protozero/scattered_stream_writer.cc",
        "src/trace_processor/android_logs_table.cc",
        "src/trace_processor/android_logs_table.h",
        "src/trace_processor/args_table.cc",
        "src/trace_processor/args_table.h",
        "src/trace_processor/args_tracker.cc",
        "src/trace_processor/args_tracker.h",
        "src/trace_processor/chunked_trace_reader.h",
        "src/trace_processor/clock_tracker.cc",
        "src/trace_processor/clock_tracker.h",
        "src/trace_processor/counter_definitions_table.cc",
        "src/trace_processor/counter_definitions_table.h",
        "src/trace_processor/counter_values_table.cc",
        "src/trace_processor/counter_values_table.h",
        "src/trace_processor/cpu_profile_stack_sample_table.cc",
        "src/trace_processor/cpu_profile_stack_sample_table.h",
        "src/trace_processor/db/bit_vector.cc",
        "src/trace_processor/db/bit_vector.h",
        "src/trace_processor/db/column.cc",
        "src/trace_processor/db/column.h",
        "src/trace_processor/db/row_map.cc",
        "src/trace_processor/db/row_map.h",
        "src/trace_processor/db/sparse_vector.h",
        "src/trace_processor/db/table.cc",
        "src/trace_processor/db/table.h",
        "src/trace_processor/event_tracker.cc",
        "src/trace_processor/event_tracker.h",
        "src/trace_processor/export_json.cc",
        "src/trace_processor/export_json.h",
        "src/trace_processor/filtered_row_index.cc",
        "src/trace_processor/filtered_row_index.h",
        "src/trace_processor/forwarding_trace_parser.cc",
        "src/trace_processor/forwarding_trace_parser.h",
        "src/trace_processor/ftrace_descriptors.cc",
        "src/trace_processor/ftrace_descriptors.h",
        "src/trace_processor/ftrace_utils.cc",
        "src/trace_processor/ftrace_utils.h",
        "src/trace_processor/fuchsia_provider_view.cc",
        "src/trace_processor/fuchsia_provider_view.h",
        "src/trace_processor/fuchsia_trace_parser.cc",
        "src/trace_processor/fuchsia_trace_parser.h",
        "src/trace_processor/fuchsia_trace_tokenizer.cc",
        "src/trace_processor/fuchsia_trace_tokenizer.h",
        "src/trace_processor/fuchsia_trace_utils.cc",
        "src/trace_processor/fuchsia_trace_utils.h",
        "src/trace_processor/graphics_frame_event_parser.cc",
        "src/trace_processor/graphics_frame_event_parser.h",
        "src/trace_processor/gzip_trace_parser.cc",
        "src/trace_processor/gzip_trace_parser.h",
        "src/trace_processor/heap_profile_allocation_table.cc",
        "src/trace_processor/heap_profile_allocation_table.h",
        "src/trace_processor/heap_profile_tracker.cc",
        "src/trace_processor/heap_profile_tracker.h",
        "src/trace_processor/instants_table.cc",
        "src/trace_processor/instants_table.h",
        "src/trace_processor/json_trace_parser.cc",
        "src/trace_processor/json_trace_parser.h",
        "src/trace_processor/json_trace_tokenizer.cc",
        "src/trace_processor/json_trace_tokenizer.h",
        "src/trace_processor/json_trace_utils.cc",
        "src/trace_processor/json_trace_utils.h",
        "src/trace_processor/metadata.h",
        "src/trace_processor/metadata_table.cc",
        "src/trace_processor/metadata_table.h",
        "src/trace_processor/metrics/descriptors.cc",
        "src/trace_processor/metrics/descriptors.h",
        "src/trace_processor/metrics/metrics.cc",
        "src/trace_processor/metrics/metrics.descriptor.h",
        "src/trace_processor/metrics/metrics.h",
        "src/trace_processor/metrics/sql_metrics.h",
        "src/trace_processor/null_term_string_view.h",
        "src/trace_processor/process_table.cc",
        "src/trace_processor/process_table.h",
        "src/trace_processor/process_tracker.cc",
        "src/trace_processor/process_tracker.h",
        "src/trace_processor/proto_incremental_state.h",
        "src/trace_processor/proto_trace_parser.cc",
        "src/trace_processor/proto_trace_parser.h",
        "src/trace_processor/proto_trace_tokenizer.cc",
        "src/trace_processor/proto_trace_tokenizer.h",
        "src/trace_processor/raw_table.cc",
        "src/trace_processor/raw_table.h",
        "src/trace_processor/row_iterators.cc",
        "src/trace_processor/row_iterators.h",
        "src/trace_processor/sched_slice_table.cc",
        "src/trace_processor/sched_slice_table.h",
        "src/trace_processor/slice_table.cc",
        "src/trace_processor/slice_table.h",
        "src/trace_processor/slice_tracker.cc",
        "src/trace_processor/slice_tracker.h",
        "src/trace_processor/span_join_operator_table.cc",
        "src/trace_processor/span_join_operator_table.h",
        "src/trace_processor/sql_stats_table.cc",
        "src/trace_processor/sql_stats_table.h",
        "src/trace_processor/sqlite/query_constraints.cc",
        "src/trace_processor/sqlite/query_constraints.h",
        "src/trace_processor/sqlite/scoped_db.h",
        "src/trace_processor/sqlite/sqlite3_str_split.cc",
        "src/trace_processor/sqlite/sqlite3_str_split.h",
        "src/trace_processor/sqlite/sqlite_table.cc",
        "src/trace_processor/sqlite/sqlite_table.h",
        "src/trace_processor/sqlite/sqlite_utils.h",
        "src/trace_processor/stack_profile_callsite_table.cc",
        "src/trace_processor/stack_profile_callsite_table.h",
        "src/trace_processor/stack_profile_frame_table.cc",
        "src/trace_processor/stack_profile_frame_table.h",
        "src/trace_processor/stack_profile_mapping_table.cc",
        "src/trace_processor/stack_profile_mapping_table.h",
        "src/trace_processor/stack_profile_tracker.cc",
        "src/trace_processor/stack_profile_tracker.h",
        "src/trace_processor/stats.h",
        "src/trace_processor/stats_table.cc",
        "src/trace_processor/stats_table.h",
        "src/trace_processor/storage_columns.cc",
        "src/trace_processor/storage_columns.h",
        "src/trace_processor/storage_schema.cc",
        "src/trace_processor/storage_schema.h",
        "src/trace_processor/storage_table.cc",
        "src/trace_processor/storage_table.h",
        "src/trace_processor/string_pool.cc",
        "src/trace_processor/string_pool.h",
        "src/trace_processor/syscall_tracker.cc",
        "src/trace_processor/syscall_tracker.h",
        "src/trace_processor/syscalls_aarch32.h",
        "src/trace_processor/syscalls_aarch64.h",
        "src/trace_processor/syscalls_armeabi.h",
        "src/trace_processor/syscalls_x86_64.h",
        "src/trace_processor/systrace_parser.cc",
        "src/trace_processor/systrace_parser.h",
        "src/trace_processor/systrace_trace_parser.cc",
        "src/trace_processor/systrace_trace_parser.h",
        "src/trace_processor/tables/macros.h",
        "src/trace_processor/tables/macros_internal.h",
        "src/trace_processor/thread_table.cc",
        "src/trace_processor/thread_table.h",
        "src/trace_processor/trace_blob_view.h",
        "src/trace_processor/trace_parser.h",
        "src/trace_processor/trace_processor.cc",
        "src/trace_processor/trace_processor_context.cc",
        "src/trace_processor/trace_processor_context.h",
        "src/trace_processor/trace_processor_impl.cc",
        "src/trace_processor/trace_processor_impl.h",
        "src/trace_processor/trace_sorter.cc",
        "src/trace_processor/trace_sorter.h",
        "src/trace_processor/trace_storage.cc",
        "src/trace_processor/trace_storage.h",
        "src/trace_processor/track_table.cc",
        "src/trace_processor/track_table.h",
        "src/trace_processor/variadic.h",
        "src/trace_processor/virtual_destructors.cc",
        "src/trace_processor/virtual_track_tracker.cc",
        "src/trace_processor/virtual_track_tracker.h",
        "src/trace_processor/window_operator_table.cc",
        "src/trace_processor/window_operator_table.h",
    ],
    hdrs = [
        "include/perfetto/base/build_config.h",
        "include/perfetto/base/compiler.h",
        "include/perfetto/base/copyable_ptr.h",
        "include/perfetto/base/export.h",
        "include/perfetto/base/logging.h",
        "include/perfetto/base/task_runner.h",
        "include/perfetto/base/time.h",
        "include/perfetto/ext/base/circular_queue.h",
        "include/perfetto/ext/base/container_annotations.h",
        "include/perfetto/ext/base/event_fd.h",
        "include/perfetto/ext/base/file_utils.h",
        "include/perfetto/ext/base/hash.h",
        "include/perfetto/ext/base/lookup_set.h",
        "include/perfetto/ext/base/metatrace.h",
        "include/perfetto/ext/base/metatrace_events.h",
        "include/perfetto/ext/base/no_destructor.h",
        "include/perfetto/ext/base/optional.h",
        "include/perfetto/ext/base/paged_memory.h",
        "include/perfetto/ext/base/pipe.h",
        "include/perfetto/ext/base/proc_utils.h",
        "include/perfetto/ext/base/scoped_file.h",
        "include/perfetto/ext/base/small_set.h",
        "include/perfetto/ext/base/string_splitter.h",
        "include/perfetto/ext/base/string_utils.h",
        "include/perfetto/ext/base/string_view.h",
        "include/perfetto/ext/base/string_writer.h",
        "include/perfetto/ext/base/temp_file.h",
        "include/perfetto/ext/base/thread_annotations.h",
        "include/perfetto/ext/base/thread_checker.h",
        "include/perfetto/ext/base/thread_task_runner.h",
        "include/perfetto/ext/base/thread_utils.h",
        "include/perfetto/ext/base/unix_socket.h",
        "include/perfetto/ext/base/unix_task_runner.h",
        "include/perfetto/ext/base/utils.h",
        "include/perfetto/ext/base/uuid.h",
        "include/perfetto/ext/base/waitable_event.h",
        "include/perfetto/ext/base/watchdog.h",
        "include/perfetto/ext/base/watchdog_noop.h",
        "include/perfetto/ext/base/watchdog_posix.h",
        "include/perfetto/ext/base/weak_ptr.h",
        "include/perfetto/ext/traced/sys_stats_counters.h",
        "include/perfetto/protozero/contiguous_memory_range.h",
        "include/perfetto/protozero/field.h",
        "include/perfetto/protozero/message.h",
        "include/perfetto/protozero/message_handle.h",
        "include/perfetto/protozero/proto_decoder.h",
        "include/perfetto/protozero/proto_utils.h",
        "include/perfetto/protozero/scattered_heap_buffer.h",
        "include/perfetto/protozero/scattered_stream_null_delegate.h",
        "include/perfetto/protozero/scattered_stream_writer.h",
        "include/perfetto/trace_processor/basic_types.h",
        "include/perfetto/trace_processor/status.h",
        "include/perfetto/trace_processor/trace_processor.h",
    ],
    deps = [
        "//third_party/perfetto:gen_merged_sql_metrics",
        "//third_party/perfetto/google:jsoncpp",
        "//third_party/perfetto/protos:common_zero_cc_proto",
        "//third_party/perfetto/protos:config_android_zero_cc_proto",
        "//third_party/perfetto/protos:config_ftrace_zero_cc_proto",
        "//third_party/perfetto/protos:config_gpu_zero_cc_proto",
        "//third_party/perfetto/protos:config_inode_file_zero_cc_proto",
        "//third_party/perfetto/protos:config_power_zero_cc_proto",
        "//third_party/perfetto/protos:config_process_stats_zero_cc_proto",
        "//third_party/perfetto/protos:config_profiling_zero_cc_proto",
        "//third_party/perfetto/protos:config_sys_stats_zero_cc_proto",
        "//third_party/perfetto/protos:config_zero_cc_proto",
        "//third_party/perfetto/protos:metrics_android_zero_cc_proto",
        "//third_party/perfetto/protos:metrics_zero_cc_proto",
        "//third_party/perfetto/protos:trace_android_zero_cc_proto",
        "//third_party/perfetto/protos:trace_chrome_zero_cc_proto",
        "//third_party/perfetto/protos:trace_filesystem_zero_cc_proto",
        "//third_party/perfetto/protos:trace_ftrace_zero_cc_proto",
        "//third_party/perfetto/protos:trace_gpu_zero_cc_proto",
        "//third_party/perfetto/protos:trace_interned_data_zero_cc_proto",
        "//third_party/perfetto/protos:trace_minimal_zero_cc_proto",
        "//third_party/perfetto/protos:trace_non_minimal_zero_cc_proto",
        "//third_party/perfetto/protos:trace_perfetto_zero_cc_proto",
        "//third_party/perfetto/protos:trace_power_zero_cc_proto",
        "//third_party/perfetto/protos:trace_processor_metrics_impl_zero_cc_proto",
        "//third_party/perfetto/protos:trace_profiling_zero_cc_proto",
        "//third_party/perfetto/protos:trace_ps_zero_cc_proto",
        "//third_party/perfetto/protos:trace_sys_stats_zero_cc_proto",
        "//third_party/perfetto/protos:trace_track_event_zero_cc_proto",
        "//third_party/sqlite",
        "//third_party/sqlite:sqlite_ext_percentile",
        "//third_party/zlib:zlibsystem",
    ],
)

# GN target: //src/trace_processor:trace_processor_shell
cc_binary(
    name = "trace_processor_shell",
    srcs = [
        "include/perfetto/base/build_config.h",
        "include/perfetto/base/compiler.h",
        "include/perfetto/base/copyable_ptr.h",
        "include/perfetto/base/export.h",
        "include/perfetto/base/logging.h",
        "include/perfetto/base/task_runner.h",
        "include/perfetto/base/time.h",
        "include/perfetto/ext/base/circular_queue.h",
        "include/perfetto/ext/base/container_annotations.h",
        "include/perfetto/ext/base/event_fd.h",
        "include/perfetto/ext/base/file_utils.h",
        "include/perfetto/ext/base/hash.h",
        "include/perfetto/ext/base/lookup_set.h",
        "include/perfetto/ext/base/metatrace.h",
        "include/perfetto/ext/base/metatrace_events.h",
        "include/perfetto/ext/base/no_destructor.h",
        "include/perfetto/ext/base/optional.h",
        "include/perfetto/ext/base/paged_memory.h",
        "include/perfetto/ext/base/pipe.h",
        "include/perfetto/ext/base/proc_utils.h",
        "include/perfetto/ext/base/scoped_file.h",
        "include/perfetto/ext/base/small_set.h",
        "include/perfetto/ext/base/string_splitter.h",
        "include/perfetto/ext/base/string_utils.h",
        "include/perfetto/ext/base/string_view.h",
        "include/perfetto/ext/base/string_writer.h",
        "include/perfetto/ext/base/temp_file.h",
        "include/perfetto/ext/base/thread_annotations.h",
        "include/perfetto/ext/base/thread_checker.h",
        "include/perfetto/ext/base/thread_task_runner.h",
        "include/perfetto/ext/base/thread_utils.h",
        "include/perfetto/ext/base/unix_socket.h",
        "include/perfetto/ext/base/unix_task_runner.h",
        "include/perfetto/ext/base/utils.h",
        "include/perfetto/ext/base/uuid.h",
        "include/perfetto/ext/base/waitable_event.h",
        "include/perfetto/ext/base/watchdog.h",
        "include/perfetto/ext/base/watchdog_noop.h",
        "include/perfetto/ext/base/watchdog_posix.h",
        "include/perfetto/ext/base/weak_ptr.h",
        "include/perfetto/ext/traced/sys_stats_counters.h",
        "include/perfetto/protozero/contiguous_memory_range.h",
        "include/perfetto/protozero/field.h",
        "include/perfetto/protozero/message.h",
        "include/perfetto/protozero/message_handle.h",
        "include/perfetto/protozero/proto_decoder.h",
        "include/perfetto/protozero/proto_utils.h",
        "include/perfetto/protozero/scattered_heap_buffer.h",
        "include/perfetto/protozero/scattered_stream_null_delegate.h",
        "include/perfetto/protozero/scattered_stream_writer.h",
        "include/perfetto/trace_processor/basic_types.h",
        "include/perfetto/trace_processor/status.h",
        "include/perfetto/trace_processor/trace_processor.h",
        "src/base/event_fd.cc",
        "src/base/file_utils.cc",
        "src/base/metatrace.cc",
        "src/base/paged_memory.cc",
        "src/base/pipe.cc",
        "src/base/string_splitter.cc",
        "src/base/string_utils.cc",
        "src/base/string_view.cc",
        "src/base/temp_file.cc",
        "src/base/thread_checker.cc",
        "src/base/thread_task_runner.cc",
        "src/base/time.cc",
        "src/base/unix_task_runner.cc",
        "src/base/uuid.cc",
        "src/base/virtual_destructors.cc",
        "src/base/waitable_event.cc",
        "src/base/watchdog_posix.cc",
        "src/protozero/message.cc",
        "src/protozero/message_handle.cc",
        "src/protozero/proto_decoder.cc",
        "src/protozero/scattered_heap_buffer.cc",
        "src/protozero/scattered_stream_null_delegate.cc",
        "src/protozero/scattered_stream_writer.cc",
        "src/trace_processor/android_logs_table.cc",
        "src/trace_processor/android_logs_table.h",
        "src/trace_processor/args_table.cc",
        "src/trace_processor/args_table.h",
        "src/trace_processor/args_tracker.cc",
        "src/trace_processor/args_tracker.h",
        "src/trace_processor/chunked_trace_reader.h",
        "src/trace_processor/clock_tracker.cc",
        "src/trace_processor/clock_tracker.h",
        "src/trace_processor/counter_definitions_table.cc",
        "src/trace_processor/counter_definitions_table.h",
        "src/trace_processor/counter_values_table.cc",
        "src/trace_processor/counter_values_table.h",
        "src/trace_processor/cpu_profile_stack_sample_table.cc",
        "src/trace_processor/cpu_profile_stack_sample_table.h",
        "src/trace_processor/db/bit_vector.cc",
        "src/trace_processor/db/bit_vector.h",
        "src/trace_processor/db/column.cc",
        "src/trace_processor/db/column.h",
        "src/trace_processor/db/row_map.cc",
        "src/trace_processor/db/row_map.h",
        "src/trace_processor/db/sparse_vector.h",
        "src/trace_processor/db/table.cc",
        "src/trace_processor/db/table.h",
        "src/trace_processor/event_tracker.cc",
        "src/trace_processor/event_tracker.h",
        "src/trace_processor/export_json.cc",
        "src/trace_processor/export_json.h",
        "src/trace_processor/filtered_row_index.cc",
        "src/trace_processor/filtered_row_index.h",
        "src/trace_processor/forwarding_trace_parser.cc",
        "src/trace_processor/forwarding_trace_parser.h",
        "src/trace_processor/ftrace_descriptors.cc",
        "src/trace_processor/ftrace_descriptors.h",
        "src/trace_processor/ftrace_utils.cc",
        "src/trace_processor/ftrace_utils.h",
        "src/trace_processor/fuchsia_provider_view.cc",
        "src/trace_processor/fuchsia_provider_view.h",
        "src/trace_processor/fuchsia_trace_parser.cc",
        "src/trace_processor/fuchsia_trace_parser.h",
        "src/trace_processor/fuchsia_trace_tokenizer.cc",
        "src/trace_processor/fuchsia_trace_tokenizer.h",
        "src/trace_processor/fuchsia_trace_utils.cc",
        "src/trace_processor/fuchsia_trace_utils.h",
        "src/trace_processor/graphics_frame_event_parser.cc",
        "src/trace_processor/graphics_frame_event_parser.h",
        "src/trace_processor/gzip_trace_parser.cc",
        "src/trace_processor/gzip_trace_parser.h",
        "src/trace_processor/heap_profile_allocation_table.cc",
        "src/trace_processor/heap_profile_allocation_table.h",
        "src/trace_processor/heap_profile_tracker.cc",
        "src/trace_processor/heap_profile_tracker.h",
        "src/trace_processor/instants_table.cc",
        "src/trace_processor/instants_table.h",
        "src/trace_processor/json_trace_parser.cc",
        "src/trace_processor/json_trace_parser.h",
        "src/trace_processor/json_trace_tokenizer.cc",
        "src/trace_processor/json_trace_tokenizer.h",
        "src/trace_processor/json_trace_utils.cc",
        "src/trace_processor/json_trace_utils.h",
        "src/trace_processor/metadata.h",
        "src/trace_processor/metadata_table.cc",
        "src/trace_processor/metadata_table.h",
        "src/trace_processor/metrics/descriptors.cc",
        "src/trace_processor/metrics/descriptors.h",
        "src/trace_processor/metrics/metrics.cc",
        "src/trace_processor/metrics/metrics.descriptor.h",
        "src/trace_processor/metrics/metrics.h",
        "src/trace_processor/metrics/sql_metrics.h",
        "src/trace_processor/null_term_string_view.h",
        "src/trace_processor/process_table.cc",
        "src/trace_processor/process_table.h",
        "src/trace_processor/process_tracker.cc",
        "src/trace_processor/process_tracker.h",
        "src/trace_processor/proto_incremental_state.h",
        "src/trace_processor/proto_trace_parser.cc",
        "src/trace_processor/proto_trace_parser.h",
        "src/trace_processor/proto_trace_tokenizer.cc",
        "src/trace_processor/proto_trace_tokenizer.h",
        "src/trace_processor/raw_table.cc",
        "src/trace_processor/raw_table.h",
        "src/trace_processor/row_iterators.cc",
        "src/trace_processor/row_iterators.h",
        "src/trace_processor/sched_slice_table.cc",
        "src/trace_processor/sched_slice_table.h",
        "src/trace_processor/slice_table.cc",
        "src/trace_processor/slice_table.h",
        "src/trace_processor/slice_tracker.cc",
        "src/trace_processor/slice_tracker.h",
        "src/trace_processor/span_join_operator_table.cc",
        "src/trace_processor/span_join_operator_table.h",
        "src/trace_processor/sql_stats_table.cc",
        "src/trace_processor/sql_stats_table.h",
        "src/trace_processor/sqlite/query_constraints.cc",
        "src/trace_processor/sqlite/query_constraints.h",
        "src/trace_processor/sqlite/scoped_db.h",
        "src/trace_processor/sqlite/sqlite3_str_split.cc",
        "src/trace_processor/sqlite/sqlite3_str_split.h",
        "src/trace_processor/sqlite/sqlite_table.cc",
        "src/trace_processor/sqlite/sqlite_table.h",
        "src/trace_processor/sqlite/sqlite_utils.h",
        "src/trace_processor/stack_profile_callsite_table.cc",
        "src/trace_processor/stack_profile_callsite_table.h",
        "src/trace_processor/stack_profile_frame_table.cc",
        "src/trace_processor/stack_profile_frame_table.h",
        "src/trace_processor/stack_profile_mapping_table.cc",
        "src/trace_processor/stack_profile_mapping_table.h",
        "src/trace_processor/stack_profile_tracker.cc",
        "src/trace_processor/stack_profile_tracker.h",
        "src/trace_processor/stats.h",
        "src/trace_processor/stats_table.cc",
        "src/trace_processor/stats_table.h",
        "src/trace_processor/storage_columns.cc",
        "src/trace_processor/storage_columns.h",
        "src/trace_processor/storage_schema.cc",
        "src/trace_processor/storage_schema.h",
        "src/trace_processor/storage_table.cc",
        "src/trace_processor/storage_table.h",
        "src/trace_processor/string_pool.cc",
        "src/trace_processor/string_pool.h",
        "src/trace_processor/syscall_tracker.cc",
        "src/trace_processor/syscall_tracker.h",
        "src/trace_processor/syscalls_aarch32.h",
        "src/trace_processor/syscalls_aarch64.h",
        "src/trace_processor/syscalls_armeabi.h",
        "src/trace_processor/syscalls_x86_64.h",
        "src/trace_processor/systrace_parser.cc",
        "src/trace_processor/systrace_parser.h",
        "src/trace_processor/systrace_trace_parser.cc",
        "src/trace_processor/systrace_trace_parser.h",
        "src/trace_processor/tables/macros.h",
        "src/trace_processor/tables/macros_internal.h",
        "src/trace_processor/thread_table.cc",
        "src/trace_processor/thread_table.h",
        "src/trace_processor/trace_blob_view.h",
        "src/trace_processor/trace_parser.h",
        "src/trace_processor/trace_processor.cc",
        "src/trace_processor/trace_processor_context.cc",
        "src/trace_processor/trace_processor_context.h",
        "src/trace_processor/trace_processor_impl.cc",
        "src/trace_processor/trace_processor_impl.h",
        "src/trace_processor/trace_processor_shell.cc",
        "src/trace_processor/trace_sorter.cc",
        "src/trace_processor/trace_sorter.h",
        "src/trace_processor/trace_storage.cc",
        "src/trace_processor/trace_storage.h",
        "src/trace_processor/track_table.cc",
        "src/trace_processor/track_table.h",
        "src/trace_processor/variadic.h",
        "src/trace_processor/virtual_destructors.cc",
        "src/trace_processor/virtual_track_tracker.cc",
        "src/trace_processor/virtual_track_tracker.h",
        "src/trace_processor/window_operator_table.cc",
        "src/trace_processor/window_operator_table.h",
    ],
    deps = [
        "//third_party/perfetto:gen_merged_sql_metrics",
        "//third_party/perfetto/google:jsoncpp",
        "//third_party/perfetto/google:linenoise",
        "//third_party/perfetto/protos:common_zero_cc_proto",
        "//third_party/perfetto/protos:config_android_zero_cc_proto",
        "//third_party/perfetto/protos:config_ftrace_zero_cc_proto",
        "//third_party/perfetto/protos:config_gpu_zero_cc_proto",
        "//third_party/perfetto/protos:config_inode_file_zero_cc_proto",
        "//third_party/perfetto/protos:config_power_zero_cc_proto",
        "//third_party/perfetto/protos:config_process_stats_zero_cc_proto",
        "//third_party/perfetto/protos:config_profiling_zero_cc_proto",
        "//third_party/perfetto/protos:config_sys_stats_zero_cc_proto",
        "//third_party/perfetto/protos:config_zero_cc_proto",
        "//third_party/perfetto/protos:metrics_android_zero_cc_proto",
        "//third_party/perfetto/protos:metrics_zero_cc_proto",
        "//third_party/perfetto/protos:trace_android_zero_cc_proto",
        "//third_party/perfetto/protos:trace_chrome_zero_cc_proto",
        "//third_party/perfetto/protos:trace_filesystem_zero_cc_proto",
        "//third_party/perfetto/protos:trace_ftrace_zero_cc_proto",
        "//third_party/perfetto/protos:trace_gpu_zero_cc_proto",
        "//third_party/perfetto/protos:trace_interned_data_zero_cc_proto",
        "//third_party/perfetto/protos:trace_minimal_zero_cc_proto",
        "//third_party/perfetto/protos:trace_non_minimal_zero_cc_proto",
        "//third_party/perfetto/protos:trace_perfetto_zero_cc_proto",
        "//third_party/perfetto/protos:trace_power_zero_cc_proto",
        "//third_party/perfetto/protos:trace_processor_metrics_impl_zero_cc_proto",
        "//third_party/perfetto/protos:trace_profiling_zero_cc_proto",
        "//third_party/perfetto/protos:trace_ps_zero_cc_proto",
        "//third_party/perfetto/protos:trace_sys_stats_zero_cc_proto",
        "//third_party/perfetto/protos:trace_track_event_zero_cc_proto",
        "//third_party/protobuf:libprotoc_legacy",
        "//third_party/protobuf:protobuf_legacy",
        "//third_party/sqlite",
        "//third_party/sqlite:sqlite_ext_percentile",
        "//third_party/zlib:zlibsystem",
    ],
)

# GN target: //tools/trace_to_text:trace_to_text
cc_binary(
    name = "trace_to_text",
    srcs = [
        "include/perfetto/base/build_config.h",
        "include/perfetto/base/compiler.h",
        "include/perfetto/base/copyable_ptr.h",
        "include/perfetto/base/export.h",
        "include/perfetto/base/logging.h",
        "include/perfetto/base/task_runner.h",
        "include/perfetto/base/time.h",
        "include/perfetto/ext/base/circular_queue.h",
        "include/perfetto/ext/base/container_annotations.h",
        "include/perfetto/ext/base/event_fd.h",
        "include/perfetto/ext/base/file_utils.h",
        "include/perfetto/ext/base/hash.h",
        "include/perfetto/ext/base/lookup_set.h",
        "include/perfetto/ext/base/metatrace.h",
        "include/perfetto/ext/base/metatrace_events.h",
        "include/perfetto/ext/base/no_destructor.h",
        "include/perfetto/ext/base/optional.h",
        "include/perfetto/ext/base/paged_memory.h",
        "include/perfetto/ext/base/pipe.h",
        "include/perfetto/ext/base/proc_utils.h",
        "include/perfetto/ext/base/scoped_file.h",
        "include/perfetto/ext/base/small_set.h",
        "include/perfetto/ext/base/string_splitter.h",
        "include/perfetto/ext/base/string_utils.h",
        "include/perfetto/ext/base/string_view.h",
        "include/perfetto/ext/base/string_writer.h",
        "include/perfetto/ext/base/temp_file.h",
        "include/perfetto/ext/base/thread_annotations.h",
        "include/perfetto/ext/base/thread_checker.h",
        "include/perfetto/ext/base/thread_task_runner.h",
        "include/perfetto/ext/base/thread_utils.h",
        "include/perfetto/ext/base/unix_socket.h",
        "include/perfetto/ext/base/unix_task_runner.h",
        "include/perfetto/ext/base/utils.h",
        "include/perfetto/ext/base/uuid.h",
        "include/perfetto/ext/base/waitable_event.h",
        "include/perfetto/ext/base/watchdog.h",
        "include/perfetto/ext/base/watchdog_noop.h",
        "include/perfetto/ext/base/watchdog_posix.h",
        "include/perfetto/ext/base/weak_ptr.h",
        "include/perfetto/ext/traced/sys_stats_counters.h",
        "include/perfetto/protozero/contiguous_memory_range.h",
        "include/perfetto/protozero/field.h",
        "include/perfetto/protozero/message.h",
        "include/perfetto/protozero/message_handle.h",
        "include/perfetto/protozero/proto_decoder.h",
        "include/perfetto/protozero/proto_utils.h",
        "include/perfetto/protozero/scattered_heap_buffer.h",
        "include/perfetto/protozero/scattered_stream_null_delegate.h",
        "include/perfetto/protozero/scattered_stream_writer.h",
        "include/perfetto/trace_processor/basic_types.h",
        "include/perfetto/trace_processor/status.h",
        "include/perfetto/trace_processor/trace_processor.h",
        "src/base/event_fd.cc",
        "src/base/file_utils.cc",
        "src/base/metatrace.cc",
        "src/base/paged_memory.cc",
        "src/base/pipe.cc",
        "src/base/string_splitter.cc",
        "src/base/string_utils.cc",
        "src/base/string_view.cc",
        "src/base/temp_file.cc",
        "src/base/thread_checker.cc",
        "src/base/thread_task_runner.cc",
        "src/base/time.cc",
        "src/base/unix_task_runner.cc",
        "src/base/uuid.cc",
        "src/base/virtual_destructors.cc",
        "src/base/waitable_event.cc",
        "src/base/watchdog_posix.cc",
        "src/protozero/message.cc",
        "src/protozero/message_handle.cc",
        "src/protozero/proto_decoder.cc",
        "src/protozero/scattered_heap_buffer.cc",
        "src/protozero/scattered_stream_null_delegate.cc",
        "src/protozero/scattered_stream_writer.cc",
        "src/trace_processor/android_logs_table.cc",
        "src/trace_processor/android_logs_table.h",
        "src/trace_processor/args_table.cc",
        "src/trace_processor/args_table.h",
        "src/trace_processor/args_tracker.cc",
        "src/trace_processor/args_tracker.h",
        "src/trace_processor/chunked_trace_reader.h",
        "src/trace_processor/clock_tracker.cc",
        "src/trace_processor/clock_tracker.h",
        "src/trace_processor/counter_definitions_table.cc",
        "src/trace_processor/counter_definitions_table.h",
        "src/trace_processor/counter_values_table.cc",
        "src/trace_processor/counter_values_table.h",
        "src/trace_processor/cpu_profile_stack_sample_table.cc",
        "src/trace_processor/cpu_profile_stack_sample_table.h",
        "src/trace_processor/db/bit_vector.cc",
        "src/trace_processor/db/bit_vector.h",
        "src/trace_processor/db/column.cc",
        "src/trace_processor/db/column.h",
        "src/trace_processor/db/row_map.cc",
        "src/trace_processor/db/row_map.h",
        "src/trace_processor/db/sparse_vector.h",
        "src/trace_processor/db/table.cc",
        "src/trace_processor/db/table.h",
        "src/trace_processor/event_tracker.cc",
        "src/trace_processor/event_tracker.h",
        "src/trace_processor/export_json.cc",
        "src/trace_processor/export_json.h",
        "src/trace_processor/filtered_row_index.cc",
        "src/trace_processor/filtered_row_index.h",
        "src/trace_processor/forwarding_trace_parser.cc",
        "src/trace_processor/forwarding_trace_parser.h",
        "src/trace_processor/ftrace_descriptors.cc",
        "src/trace_processor/ftrace_descriptors.h",
        "src/trace_processor/ftrace_utils.cc",
        "src/trace_processor/ftrace_utils.h",
        "src/trace_processor/fuchsia_provider_view.cc",
        "src/trace_processor/fuchsia_provider_view.h",
        "src/trace_processor/fuchsia_trace_parser.cc",
        "src/trace_processor/fuchsia_trace_parser.h",
        "src/trace_processor/fuchsia_trace_tokenizer.cc",
        "src/trace_processor/fuchsia_trace_tokenizer.h",
        "src/trace_processor/fuchsia_trace_utils.cc",
        "src/trace_processor/fuchsia_trace_utils.h",
        "src/trace_processor/graphics_frame_event_parser.cc",
        "src/trace_processor/graphics_frame_event_parser.h",
        "src/trace_processor/gzip_trace_parser.cc",
        "src/trace_processor/gzip_trace_parser.h",
        "src/trace_processor/heap_profile_allocation_table.cc",
        "src/trace_processor/heap_profile_allocation_table.h",
        "src/trace_processor/heap_profile_tracker.cc",
        "src/trace_processor/heap_profile_tracker.h",
        "src/trace_processor/instants_table.cc",
        "src/trace_processor/instants_table.h",
        "src/trace_processor/json_trace_parser.cc",
        "src/trace_processor/json_trace_parser.h",
        "src/trace_processor/json_trace_tokenizer.cc",
        "src/trace_processor/json_trace_tokenizer.h",
        "src/trace_processor/json_trace_utils.cc",
        "src/trace_processor/json_trace_utils.h",
        "src/trace_processor/metadata.h",
        "src/trace_processor/metadata_table.cc",
        "src/trace_processor/metadata_table.h",
        "src/trace_processor/metrics/descriptors.cc",
        "src/trace_processor/metrics/descriptors.h",
        "src/trace_processor/metrics/metrics.cc",
        "src/trace_processor/metrics/metrics.descriptor.h",
        "src/trace_processor/metrics/metrics.h",
        "src/trace_processor/metrics/sql_metrics.h",
        "src/trace_processor/null_term_string_view.h",
        "src/trace_processor/process_table.cc",
        "src/trace_processor/process_table.h",
        "src/trace_processor/process_tracker.cc",
        "src/trace_processor/process_tracker.h",
        "src/trace_processor/proto_incremental_state.h",
        "src/trace_processor/proto_trace_parser.cc",
        "src/trace_processor/proto_trace_parser.h",
        "src/trace_processor/proto_trace_tokenizer.cc",
        "src/trace_processor/proto_trace_tokenizer.h",
        "src/trace_processor/raw_table.cc",
        "src/trace_processor/raw_table.h",
        "src/trace_processor/row_iterators.cc",
        "src/trace_processor/row_iterators.h",
        "src/trace_processor/sched_slice_table.cc",
        "src/trace_processor/sched_slice_table.h",
        "src/trace_processor/slice_table.cc",
        "src/trace_processor/slice_table.h",
        "src/trace_processor/slice_tracker.cc",
        "src/trace_processor/slice_tracker.h",
        "src/trace_processor/span_join_operator_table.cc",
        "src/trace_processor/span_join_operator_table.h",
        "src/trace_processor/sql_stats_table.cc",
        "src/trace_processor/sql_stats_table.h",
        "src/trace_processor/sqlite/query_constraints.cc",
        "src/trace_processor/sqlite/query_constraints.h",
        "src/trace_processor/sqlite/scoped_db.h",
        "src/trace_processor/sqlite/sqlite3_str_split.cc",
        "src/trace_processor/sqlite/sqlite3_str_split.h",
        "src/trace_processor/sqlite/sqlite_table.cc",
        "src/trace_processor/sqlite/sqlite_table.h",
        "src/trace_processor/sqlite/sqlite_utils.h",
        "src/trace_processor/stack_profile_callsite_table.cc",
        "src/trace_processor/stack_profile_callsite_table.h",
        "src/trace_processor/stack_profile_frame_table.cc",
        "src/trace_processor/stack_profile_frame_table.h",
        "src/trace_processor/stack_profile_mapping_table.cc",
        "src/trace_processor/stack_profile_mapping_table.h",
        "src/trace_processor/stack_profile_tracker.cc",
        "src/trace_processor/stack_profile_tracker.h",
        "src/trace_processor/stats.h",
        "src/trace_processor/stats_table.cc",
        "src/trace_processor/stats_table.h",
        "src/trace_processor/storage_columns.cc",
        "src/trace_processor/storage_columns.h",
        "src/trace_processor/storage_schema.cc",
        "src/trace_processor/storage_schema.h",
        "src/trace_processor/storage_table.cc",
        "src/trace_processor/storage_table.h",
        "src/trace_processor/string_pool.cc",
        "src/trace_processor/string_pool.h",
        "src/trace_processor/syscall_tracker.cc",
        "src/trace_processor/syscall_tracker.h",
        "src/trace_processor/syscalls_aarch32.h",
        "src/trace_processor/syscalls_aarch64.h",
        "src/trace_processor/syscalls_armeabi.h",
        "src/trace_processor/syscalls_x86_64.h",
        "src/trace_processor/systrace_parser.cc",
        "src/trace_processor/systrace_parser.h",
        "src/trace_processor/systrace_trace_parser.cc",
        "src/trace_processor/systrace_trace_parser.h",
        "src/trace_processor/tables/macros.h",
        "src/trace_processor/tables/macros_internal.h",
        "src/trace_processor/thread_table.cc",
        "src/trace_processor/thread_table.h",
        "src/trace_processor/trace_blob_view.h",
        "src/trace_processor/trace_parser.h",
        "src/trace_processor/trace_processor.cc",
        "src/trace_processor/trace_processor_context.cc",
        "src/trace_processor/trace_processor_context.h",
        "src/trace_processor/trace_processor_impl.cc",
        "src/trace_processor/trace_processor_impl.h",
        "src/trace_processor/trace_sorter.cc",
        "src/trace_processor/trace_sorter.h",
        "src/trace_processor/trace_storage.cc",
        "src/trace_processor/trace_storage.h",
        "src/trace_processor/track_table.cc",
        "src/trace_processor/track_table.h",
        "src/trace_processor/variadic.h",
        "src/trace_processor/virtual_destructors.cc",
        "src/trace_processor/virtual_track_tracker.cc",
        "src/trace_processor/virtual_track_tracker.h",
        "src/trace_processor/window_operator_table.cc",
        "src/trace_processor/window_operator_table.h",
        "tools/trace_to_text/local_symbolizer.cc",
        "tools/trace_to_text/local_symbolizer.h",
        "tools/trace_to_text/main.cc",
        "tools/trace_to_text/pprof_builder.cc",
        "tools/trace_to_text/pprof_builder.h",
        "tools/trace_to_text/profile_visitor.cc",
        "tools/trace_to_text/profile_visitor.h",
        "tools/trace_to_text/proto_full_utils.cc",
        "tools/trace_to_text/proto_full_utils.h",
        "tools/trace_to_text/symbolize_profile.cc",
        "tools/trace_to_text/symbolize_profile.h",
        "tools/trace_to_text/symbolizer.cc",
        "tools/trace_to_text/symbolizer.h",
        "tools/trace_to_text/trace_symbol_table.cc",
        "tools/trace_to_text/trace_symbol_table.h",
        "tools/trace_to_text/trace_to_profile.cc",
        "tools/trace_to_text/trace_to_profile.h",
        "tools/trace_to_text/trace_to_systrace.cc",
        "tools/trace_to_text/trace_to_systrace.h",
        "tools/trace_to_text/trace_to_text.cc",
        "tools/trace_to_text/trace_to_text.h",
        "tools/trace_to_text/utils.cc",
        "tools/trace_to_text/utils.h",
    ],
    deps = [
        "//third_party/perfetto:gen_merged_sql_metrics",
        "//third_party/perfetto/google:jsoncpp",
        "//third_party/perfetto/protos:common_cc_proto",
        "//third_party/perfetto/protos:common_zero_cc_proto",
        "//third_party/perfetto/protos:config_android_cc_proto",
        "//third_party/perfetto/protos:config_android_zero_cc_proto",
        "//third_party/perfetto/protos:config_cc_proto",
        "//third_party/perfetto/protos:config_ftrace_cc_proto",
        "//third_party/perfetto/protos:config_ftrace_zero_cc_proto",
        "//third_party/perfetto/protos:config_gpu_cc_proto",
        "//third_party/perfetto/protos:config_gpu_zero_cc_proto",
        "//third_party/perfetto/protos:config_inode_file_cc_proto",
        "//third_party/perfetto/protos:config_inode_file_zero_cc_proto",
        "//third_party/perfetto/protos:config_power_cc_proto",
        "//third_party/perfetto/protos:config_power_zero_cc_proto",
        "//third_party/perfetto/protos:config_process_stats_cc_proto",
        "//third_party/perfetto/protos:config_process_stats_zero_cc_proto",
        "//third_party/perfetto/protos:config_profiling_cc_proto",
        "//third_party/perfetto/protos:config_profiling_zero_cc_proto",
        "//third_party/perfetto/protos:config_sys_stats_cc_proto",
        "//third_party/perfetto/protos:config_sys_stats_zero_cc_proto",
        "//third_party/perfetto/protos:config_zero_cc_proto",
        "//third_party/perfetto/protos:metrics_android_zero_cc_proto",
        "//third_party/perfetto/protos:metrics_zero_cc_proto",
        "//third_party/perfetto/protos:protos_third_party_pprof_cc_proto",
        "//third_party/perfetto/protos:trace_android_cc_proto",
        "//third_party/perfetto/protos:trace_android_zero_cc_proto",
        "//third_party/perfetto/protos:trace_chrome_cc_proto",
        "//third_party/perfetto/protos:trace_chrome_zero_cc_proto",
        "//third_party/perfetto/protos:trace_filesystem_cc_proto",
        "//third_party/perfetto/protos:trace_filesystem_zero_cc_proto",
        "//third_party/perfetto/protos:trace_ftrace_cc_proto",
        "//third_party/perfetto/protos:trace_ftrace_zero_cc_proto",
        "//third_party/perfetto/protos:trace_gpu_cc_proto",
        "//third_party/perfetto/protos:trace_gpu_zero_cc_proto",
        "//third_party/perfetto/protos:trace_interned_data_cc_proto",
        "//third_party/perfetto/protos:trace_interned_data_zero_cc_proto",
        "//third_party/perfetto/protos:trace_minimal_cc_proto",
        "//third_party/perfetto/protos:trace_minimal_zero_cc_proto",
        "//third_party/perfetto/protos:trace_non_minimal_cc_proto",
        "//third_party/perfetto/protos:trace_non_minimal_zero_cc_proto",
        "//third_party/perfetto/protos:trace_perfetto_cc_proto",
        "//third_party/perfetto/protos:trace_perfetto_zero_cc_proto",
        "//third_party/perfetto/protos:trace_power_cc_proto",
        "//third_party/perfetto/protos:trace_power_zero_cc_proto",
        "//third_party/perfetto/protos:trace_processor_metrics_impl_zero_cc_proto",
        "//third_party/perfetto/protos:trace_profiling_cc_proto",
        "//third_party/perfetto/protos:trace_profiling_zero_cc_proto",
        "//third_party/perfetto/protos:trace_ps_cc_proto",
        "//third_party/perfetto/protos:trace_ps_zero_cc_proto",
        "//third_party/perfetto/protos:trace_sys_stats_cc_proto",
        "//third_party/perfetto/protos:trace_sys_stats_zero_cc_proto",
        "//third_party/perfetto/protos:trace_track_event_cc_proto",
        "//third_party/perfetto/protos:trace_track_event_zero_cc_proto",
        "//third_party/protobuf:libprotoc_legacy",
        "//third_party/protobuf:protobuf_legacy",
        "//third_party/sqlite",
        "//third_party/sqlite:sqlite_ext_percentile",
        "//third_party/zlib:zlibsystem",
    ],
)

gensignature(
    name = "trace_processor_sig",
    srcs = [
        ":trace_processor_shell",
        ":trace_to_text",
    ],
    tags = [
        "__TRACE_PROCESSOR_SIG_TAG1",
        "__TRACE_PROCESSOR_SIG_TAG2",
    ],
)

py_binary(
    name = "gen_merged_sql_metrics_py",
    srcs = [
        "tools/gen_merged_sql_metrics.py",
    ],
    main = "tools/gen_merged_sql_metrics.py",
    python_version = "PY2",
)
