duration_ms: 10000

buffers {
  size_kb: 131072
  fill_policy: DISCARD
}

# QnxConfig is used with trace_qnx_probes build from
# https://github.com/qnx-ports/perfetto
data_sources {
  config {
    name: "qnx.kernel"
    target_buffer: 0
    qnx_config {
      # The number of buffers that tracelog will init for the QNX trace.
      qnx_kernel_buffers: 32

      # The number of kernel buffers that tracelog will init for the QNX trace.
      qnx_kernel_kbuffers: 64

      # Flag indicating whether the QNX kernel tracing should produce wide
      # events which contain additional data or fast events which are most
      # concise. In fast mode we lose the priority information
      qnx_kernel_wide_events: true

      # The number of pages initialized by default the parser's page cache.
      qnx_cache_pages: 4

      # The max pages the page cache should allocate (must be at least as big)
      # as the qnx_cache_pages value. Using -1 will allow the cache to grow
      # unbounded. The cache will prefer to re-use existing pages so growth will
      # only happen when needed (when parser is not keeping up).
      qnx_cache_max_pages: -1

      # The initial size of the the buffer used to hold the trace header values
      # this dynamic buffer will grow as needed but reallocs can be avoided by
      # selecting an initial size large enough to hold all the initial header
      # data.
      qnx_trace_buffer_init_bytes: 512
    }
  }
}
