buffers {
  size_kb: 100024
  optimize_for: ONE_SHOT_READ
  fill_policy: RING_BUFFER
}

data_sources {
  config {
    name: "com.google.perfetto.ftrace"
    target_buffer: 0
    ftrace_config {
      buffer_size_kb: 40 # 4 (page size) * 10
      drain_period_ms: 200
      event_names: "cpufreq_interactive_setspeed"
      event_names: "cpufreq_interactive_target"
      event_names: "cpufreq_interactive_already"
      event_names: "cpufreq_interactive_notyet"
      event_names: "cpufreq_interactive_boost"
      event_names: "cpufreq_interactive_unboost"
      event_names: "clock_disable"
      event_names: "clock_enable"
      event_names: "clock_set_rate"
      event_names: "cpu_frequency"
      event_names: "cpu_idle"
      event_names: "cpu_frequency_limits"
      event_names: "sched_switch"
      event_names: "sched_wakeup"
      event_names: "sched_blocked_reason"
      event_names: "sched_cpu_hotplug"
      event_names: "sched_waking"
      event_names: "i2c_read"
      event_names: "i2c_write"
      event_names: "i2c_result"
      event_names: "i2c_reply"
      event_names: "smbus_read"
      event_names: "smbus_write"
      event_names: "smbus_result"
      event_names: "smbus_reply"
      event_names: "ext4_da_write_begin"
      event_names: "ext4_da_write_end"
      event_names: "ext4_sync_file_enter"
      event_names: "ext4_sync_file_exit"
      event_names: "block_rq_issue"
      event_names: "mm_vmscan_direct_reclaim_begin"
      event_names: "mm_vmscan_direct_reclaim_end"
      event_names: "mm_vmscan_kswapd_wake"
      event_names: "mm_vmscan_kswapd_sleep"
      event_names: "binder_transaction"
      event_names: "binder_transaction_received"
      event_names: "binder_set_priority"
      event_names: "binder_lock"
      event_names: "binder_locked"
      event_names: "binder_unlock"
      event_names: "lowmemory_kill"
      event_names: "ipi_entry"
      event_names: "ipi_exit"
      event_names: "ipi_raise"
      event_names: "softirq_entry"
      event_names: "softirq_exit"
      event_names: "softirq_raise"
      event_names: "irq_handler_entry"
      event_names: "irq_handler_exit"
      event_names: "sync_pt"
      event_names: "sync_timeline"
      event_names: "sync_wait"
      event_names: "workqueue_activate_work"
      event_names: "workqueue_execute_end"
      event_names: "workqueue_execute_start"
      event_names: "workqueue_queue_work"
      event_names: "regulator_disable"
      event_names: "regulator_disable_complete"
      event_names: "regulator_enable"
      event_names: "regulator_enable_complete"
      event_names: "regulator_enable_delay"
      event_names: "regulator_set_voltage"
      event_names: "regulator_set_voltage_complete"
      event_names: "cgroup_attach_task"
      event_names: "cgroup_mkdir"
      event_names: "cgroup_remount"
      event_names: "cgroup_rmdir"
      event_names: "cgroup_transfer_tasks"
      event_names: "cgroup_destroy_root"
      event_names: "cgroup_release"
      event_names: "cgroup_rename"
      event_names: "cgroup_setup_root"
      event_names: "mdp_cmd_kickoff"
      event_names: "mdp_commit"
      event_names: "mdp_perf_set_ot"
      event_names: "mdp_sspp_change"
      event_names: "tracing_mark_write"
      event_names: "mdp_cmd_pingpong_done"
      event_names: "mdp_compare_bw"
      event_names: "mdp_perf_set_panic_luts"
      event_names: "mdp_sspp_set"
      event_names: "mdp_cmd_readptr_done"
      event_names: "mdp_misr_crc"
      event_names: "mdp_perf_set_qos_luts"
      event_names: "mdp_trace_counter"
      event_names: "mdp_cmd_release_bw"
      event_names: "mdp_mixer_update"
      event_names: "mdp_perf_set_wm_levels"
      event_names: "mdp_video_underrun_done"
      event_names: "mdp_cmd_wait_pingpong"
      event_names: "mdp_perf_prefill_calc"
      event_names: "mdp_perf_update_bus"
      event_names: "rotator_bw_ao_as_context"
      event_names: "mm_filemap_add_to_page_cache"
      event_names: "mm_filemap_delete_from_page_cache"
      event_names: "mm_compaction_begin"
      event_names: "mm_compaction_defer_compaction"
      event_names: "mm_compaction_deferred"
      event_names: "mm_compaction_defer_reset"
      event_names: "mm_compaction_end"
      event_names: "mm_compaction_finished"
      event_names: "mm_compaction_isolate_freepages"
      event_names: "mm_compaction_isolate_migratepages"
      event_names: "mm_compaction_kcompactd_sleep"
      event_names: "mm_compaction_kcompactd_wake"
      event_names: "mm_compaction_migratepages"
      event_names: "mm_compaction_suitable"
      event_names: "mm_compaction_try_to_compact_pages"
      event_names: "mm_compaction_wakeup_kcompactd"
      event_names: "suspend_resume"
      event_names: "sched_wakeup_new"
    }
  }
}

duration_ms: 10000
