# Test data for MethodWithOverloadStackSampleRetraceTest
# R8 mapping: Overloaded methods get different obfuscated names
#   b.a -> Object StringSupplier.get()
#   b.b -> String StringSupplier.get()

packet {
  clock_snapshot {
    clocks: { clock_id: 6 timestamp: 0 }
    clocks: { clock_id: 4 timestamp: 10 }
  }
}
packet {
  process_tree {
    processes { pid: 1 ppid: 0 cmdline: "init" uid: 0 }
    processes { pid: 100 ppid: 1 cmdline: "com.example.app" uid: 10001 }
  }
}
packet {
  packages_list {
    packages { name: "com.example.app" uid: 10001 }
  }
}
packet {
  trusted_packet_sequence_id: 1
  previous_packet_dropped: true
  incremental_state_cleared: true
  timestamp: 100
  profile_packet {
    strings { iid: 1 str: "b.a" }
    strings { iid: 2 str: "b.b" }
    strings { iid: 3 str: "data/app/com.example.app/base.apk" }
    strings { iid: 4 str: "" }
    frames { iid: 1 function_name_id: 1 mapping_id: 1 rel_pc: 0x1000 }
    frames { iid: 2 function_name_id: 2 mapping_id: 1 rel_pc: 0x2000 }
    callstacks { iid: 1 frame_ids: 1 }
    callstacks { iid: 2 frame_ids: 2 }
    mappings { iid: 1 path_string_ids: 3 build_id: 4 }
    process_dumps {
      pid: 100
      samples { callstack_id: 1 self_allocated: 1000 alloc_count: 1 }
      samples { callstack_id: 2 self_allocated: 1000 alloc_count: 1 }
    }
  }
}
packet {
  deobfuscation_mapping {
    package_name: "com.example.app"
    version_code: 1
    obfuscated_classes {
      obfuscated_name: "b"
      deobfuscated_name: "com.example.StringSupplier"
      obfuscated_methods {
        # Object get() - bridge method
        obfuscated_name: "a"
        deobfuscated_name: "get"
      }
      obfuscated_methods {
        # String get() - actual implementation
        obfuscated_name: "b"
        deobfuscated_name: "get"
      }
    }
  }
}
